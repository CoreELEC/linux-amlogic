// SPDX-License-Identifier: (GPL-2.0+ OR MIT)
/*
 * Copyright (c) 2019 Amlogic, Inc. All rights reserved.
 */

#include <dt-bindings/clock/p1-clkc.h>
#include <dt-bindings/interrupt-controller/irq.h>
#include <dt-bindings/interrupt-controller/arm-gic.h>
#include <dt-bindings/power/p1-pd.h>
#include <dt-bindings/clock/amlogic,p1-audio-clk.h>
#include <dt-bindings/gpio/gpio.h>
#include <dt-bindings/gpio/meson-p1-gpio.h>
#include <dt-bindings/reset/amlogic,meson-p1-reset.h>
#include <dt-bindings/pwm/pwm.h>
#include <dt-bindings/pwm/meson.h>
#include <dt-bindings/input/input.h>
#include <dt-bindings/input/meson_ir.h>
#include "meson-ir-map.dtsi"
#include "mesong12a-bifrost.dtsi"
/ {
	cpus:cpus {
		#address-cells = <2>;
		#size-cells = <0>;

		cpu-map {
			cluster0:cluster0 {
				core0 {
					cpu = <&CPU0>;
				};
				core1 {
					cpu = <&CPU1>;
				};
				core2 {
					cpu = <&CPU2>;
				};
				core3 {
					cpu = <&CPU3>;
				};
				core4 {
					cpu = <&CPU4>;
				};
				core5 {
					cpu = <&CPU5>;
				};
				core6 {
					cpu = <&CPU6>;
				};
				core7 {
					cpu = <&CPU7>;
				};
			};
		};

		CPU0:cpu@0 {
			device_type = "cpu";
			compatible = "arm,cortex-a55","arm,armv8";
			reg = <0x0 0x0>;
			enable-method = "psci";
			cpu-idle-states = <&CPU_SLEEP_0 &SYSTEM_SLEEP_0>;
			#cooling-cells = <2>;
//			clocks = <&clkc CLKID_A73_CLK>,
//				<&clkc CLKID_A73_DYN_CLK>,
//				<&clkc CLKID_SYS_PLL>;
//			clock-names = "core_clk",
//				"low_freq_clk_parent",
//				"high_freq_clk_parent";
//			operating-points-v2 = <&cpu_opp_table0>;
//			voltage-tolerance = <0>;
//			clock-latency = <50000>;
//			capacity-dmips-mhz = <1024>;
//			dynamic-power-coefficient = <550>;
//			#cooling-cells = <2>;
		};

		CPU1:cpu@1 {
			device_type = "cpu";
			compatible = "arm,cortex-a55","arm,armv8";
			reg = <0x0 0x1>;
			enable-method = "psci";
		    cpu-idle-states = <&CPU_SLEEP_0 &SYSTEM_SLEEP_0>;
//			#cooling-cells = <2>;
//			clocks = <&clkc CLKID_A73_CLK>,
//				<&clkc CLKID_A73_DYN_CLK>,
//				<&clkc CLKID_SYS_PLL>;
//			clock-names = "core_clk",
//				"low_freq_clk_parent",
//				"high_freq_clk_parent";
//			operating-points-v2 = <&cpu_opp_table0>;
//			voltage-tolerance = <0>;
//			clock-latency = <50000>;
//			capacity-dmips-mhz = <1024>;
//			dynamic-power-coefficient = <550>;
//			#cooling-cells = <2>;
		};

		CPU2:cpu@2 {
			device_type = "cpu";
			compatible = "arm,cortex-a55","arm,armv8";
			reg = <0x0 0x2>;
			enable-method = "psci";
			cpu-idle-states = <&CPU_SLEEP_0 &SYSTEM_SLEEP_0>;
//			#cooling-cells = <2>;
//			clocks = <&clkc CLKID_A73_CLK>,
//				<&clkc CLKID_A73_DYN_CLK>,
//				<&clkc CLKID_SYS_PLL>;
//			clock-names = "core_clk",
//				"low_freq_clk_parent",
//				"high_freq_clk_parent";
//			operating-points-v2 = <&cpu_opp_table0>;
//			voltage-tolerance = <0>;
//			clock-latency = <50000>;
//			capacity-dmips-mhz = <1024>;
//			dynamic-power-coefficient = <550>;
//			#cooling-cells = <2>;
		};

		CPU3:cpu@3 {
			device_type = "cpu";
			compatible = "arm,cortex-a55","arm,armv8";
			reg = <0x0 0x3>;
			enable-method = "psci";
			cpu-idle-states = <&CPU_SLEEP_0 &SYSTEM_SLEEP_0>;
//			#cooling-cells = <2>;
//			clocks = <&clkc CLKID_A73_CLK>,
//				<&clkc CLKID_A73_DYN_CLK>,
//				<&clkc CLKID_SYS_PLL>;
//			clock-names = "core_clk",
//				"low_freq_clk_parent",
//				"high_freq_clk_parent";
//			operating-points-v2 = <&cpu_opp_table0>;
//			voltage-tolerance = <0>;
//			clock-latency = <50000>;
//			capacity-dmips-mhz = <1024>;
//			dynamic-power-coefficient = <550>;
//			#cooling-cells = <2>;
		};

		CPU4:cpu@4 {
			device_type = "cpu";
			compatible = "arm,cortex-a55","arm,armv8";
			reg = <0x0 0x4>;
			enable-method = "psci";
			cpu-idle-states = <&CPU_SLEEP_0 &SYSTEM_SLEEP_0>;
//			#cooling-cells = <2>;
//			clocks = <&clkc CLKID_CPU_CLK>,
//				<&clkc CLKID_CPU_DYN_CLK>,
//				<&clkc CLKID_SYS1_PLL>;
//			clock-names = "core_clk",
//				"low_freq_clk_parent",
//				"high_freq_clk_parent";
//			operating-points-v2 = <&cpu_opp_table1>;
//			voltage-tolerance = <0>;
//			clock-latency = <50000>;
//			capacity-dmips-mhz = <632>;
//			dynamic-power-coefficient = <110>;
//			#cooling-cells = <2>;
		};

		CPU5:cpu@5{
			device_type = "cpu";
			compatible = "arm,cortex-a55","arm,armv8";
			reg = <0x0 0x5>;
			enable-method = "psci";
			cpu-idle-states = <&CPU_SLEEP_0 &SYSTEM_SLEEP_0>;
//			#cooling-cells = <2>;
//			clocks = <&clkc CLKID_CPU_CLK>,
//				<&clkc CLKID_CPU_DYN_CLK>,
//				<&clkc CLKID_SYS1_PLL>;
//			clock-names = "core_clk",
//				"low_freq_clk_parent",
//				"high_freq_clk_parent";
//			operating-points-v2 = <&cpu_opp_table1>;
//			voltage-tolerance = <0>;
//			clock-latency = <50000>;
//			capacity-dmips-mhz = <632>;
//			dynamic-power-coefficient = <110>;
//			#cooling-cells = <2>;
		};

		CPU6:cpu@6 {
			device_type = "cpu";
			compatible = "arm,cortex-a76","arm,armv8";
			reg = <0x0 0x6>;
			enable-method = "psci";
			cpu-idle-states = <&CPU_SLEEP_0 &SYSTEM_SLEEP_0>;
//			#cooling-cells = <2>;
//			clocks = <&clkc CLKID_CPU_CLK>,
//				<&clkc CLKID_CPU_DYN_CLK>,
//				<&clkc CLKID_SYS1_PLL>;
//			clock-names = "core_clk",
//				"low_freq_clk_parent",
//				"high_freq_clk_parent";
//			operating-points-v2 = <&cpu_opp_table1>;
//			voltage-tolerance = <0>;
//			clock-latency = <50000>;
//			capacity-dmips-mhz = <632>;
//			dynamic-power-coefficient = <110>;
//			#cooling-cells = <2>;
		};

		CPU7:cpu@7 {
			device_type = "cpu";
			compatible = "arm,cortex-a76","arm,armv8";
			reg = <0x0 0x7>;
			enable-method = "psci";
			cpu-idle-states = <&CPU_SLEEP_0 &SYSTEM_SLEEP_0>;
//			#cooling-cells = <2>;
//			clocks = <&clkc CLKID_CPU_CLK>,
//				<&clkc CLKID_CPU_DYN_CLK>,
//				<&clkc CLKID_SYS1_PLL>;
//			clock-names = "core_clk",
//				"low_freq_clk_parent",
//				"high_freq_clk_parent";
//			operating-points-v2 = <&cpu_opp_table1>;
//			voltage-tolerance = <0>;
//			clock-latency = <50000>;
//			capacity-dmips-mhz = <632>;
//			dynamic-power-coefficient = <110>;
//			#cooling-cells = <2>;
		};

		idle-states {
			entry-method = "arm,psci-0.2";
			CPU_SLEEP_0: cpu-sleep-0 {
					compatible = "arm,idle-state";
					arm,psci-suspend-param = <0x0010000>;
					local-timer-stop;
					entry-latency-us = <4000>;
					exit-latency-us = <5000>;
					min-residency-us = <10000>;
			};
			SYSTEM_SLEEP_0: system-sleep-0 {
					compatible = "arm,idle-state";
					arm,psci-suspend-param = <0x0000000>;
					entry-latency-us = <0x3fffffff>;
					exit-latency-us = <0x40000000>;
					min-residency-us = <0xffffffff>;
			};
		};
	};

	timer {
		compatible = "arm,armv8-timer";
		interrupts = <GIC_PPI 13 0xff08>,
				<GIC_PPI 14 0xff08>,
				<GIC_PPI 11 0xff08>,
				<GIC_PPI 10 0xff08>;
	};

	timer_bc {
		/*compatible = "amlogic,bc-timer";*/
		reg= <0x0 0xfe0100D8 0x0 0x4 0x0 0xfe0100DC 0x0 0x4>;
		timer_name = "Meson TimerD";
		clockevent-rating=<300>;
		clockevent-shift=<20>;
		clockevent-features=<0x23>;
		interrupts = <0 3 1>;
		bit_enable=<7>;
		bit_mode=<6>;
		bit_resolution=<0>;
		resolution_1us=<1>;
		min_delta_ns=<10>;
	};

	arm_pmu {
		compatible = "arm,armv8-pmuv3";
		private-interrupts;
		interrupts = <GIC_SPI 231 IRQ_TYPE_LEVEL_HIGH>,
			     <GIC_SPI 232 IRQ_TYPE_LEVEL_HIGH>,
			     <GIC_SPI 233 IRQ_TYPE_LEVEL_HIGH>,
			     <GIC_SPI 234 IRQ_TYPE_LEVEL_HIGH>,

			     <GIC_SPI 235 IRQ_TYPE_LEVEL_HIGH>,
			     <GIC_SPI 236 IRQ_TYPE_LEVEL_HIGH>,
			     <GIC_SPI 237 IRQ_TYPE_LEVEL_HIGH>,
			     <GIC_SPI 238 IRQ_TYPE_LEVEL_HIGH>;
	};

	gic: interrupt-controller@fff01000 {
		compatible = "arm,cortex-a15-gic", "arm,cortex-a9-gic";
		#interrupt-cells = <3>;
		#address-cells = <0>;
		interrupt-controller;
		reg = <0x0 0xfff01000 0 0x1000>,
		      <0x0 0xfff02000 0 0x0100>;
		interrupts = <GIC_PPI 9 0xf04>;
	};

	psci {
		compatible = "arm,psci-0.2";
		method = "smc";
	};

	meson_suspend:pm {
		compatible = "amlogic, pm";
		status = "disabled";
		device_name = "aml_pm";
		reg = <0x0 0xfe010288 0x0 0x4>, /*SYSCTRL_STATUS_REG2*/
			<0x0 0xfe0102dc 0x0 0x4>; /*SYSCTRL_STICKY_REG7*/
	};

	aml_reboot {
		compatible = "aml, reboot";
		sys_reset = <0x84000009>;
		sys_poweroff = <0x84000008>;
		dis_nb_cpus_in_shutdown;
	};

	secmon {
		compatible = "amlogic, secmon";
		memory-region = <&secmon_reserved>;
		in_base_func = <0x82000020>;
		out_base_func = <0x82000021>;
		reserve_mem_size = <0x00400000>;
		clear_range = <0x05100000 0x200000>;
	};

	cma_shrinker: cma_shrinker {
		compatible = "amlogic, cma-shrinker";
		status = "disabled";
		adj  = <0 100 200 250 900 950>;
		free = <8192 12288 16384 24576 28672 32768>;
	};

	xtal: xtal-clk {
		compatible = "fixed-clock";
		clock-frequency = <24000000>;
		clock-output-names = "xtal";
		#clock-cells = <0>;
	};

	cpu_info {
		compatible = "amlogic, cpuinfo";
		status = "okay";
		cpuinfo_cmd = <0x82000044>;
	};

	vrtc: rtc@0xfe010288 {
		compatible = "amlogic,meson-vrtc";
		reg = <0x0 0xfe010288 0x0 0x4>;
		status = "disabled";
	};

	pwrdm: power-domains {
		compatible = "amlogic,p1-power-domain";
		#power-domain-cells = <1>;
		status = "okay";
	};

	nna_top_ports_wrapper_0: nna_top_ports_wrapper@fe370000 {
		compatible = "amazon,nna-1.0";
		device-name = "acenna0";
		status = "okay";
		clocks = <&clkc  CLKID_NNA0>;
		assigned-clocks =<&clkc CLKID_NNA0>;
		assigned-clock-parentsd = <&clkc CLKID_FCLK_DIV2P5>;
		assigned-clock-rates = <800000000>;
		clock-names = "nna_clk_gate";
		interrupt-names = "nna_interrupt";
		interrupts = <0 148 1>;
		minor-number = <0>;
		power-domains = <&pwrdm PDID_P1_NNA_A>,
				<&pwrdm PDID_P1_NNA_TOP>;
		power-domain-names = "pwrc-core","pwrc-top";
		reg = <0x0 0xfe370000 0x0 0x1000>;
		reg-names = "nna_irq_wrapper";
	};

	nna_top_ports_wrapper_1: nna_top_ports_wrapper@fe371000 {
		compatible = "amazon,nna-1.0";
		device-name = "acenna1";
		status = "okay";
		clocks = <&clkc  CLKID_NNA1>;
		assigned-clocks =<&clkc CLKID_NNA1>;
		assigned-clock-parentsd = <&clkc CLKID_FCLK_DIV2P5>;
		assigned-clock-rates = <800000000>;
		clock-names = "nna_clk_gate";
		interrupt-names = "nna_interrupt";
		interrupts = <0 149 1>;
		minor-number = <1>;
		power-domains = <&pwrdm PDID_P1_NNA_B>,
				<&pwrdm PDID_P1_NNA_TOP>;
		power-domain-names = "pwrc-core","pwrc-top";
		reg = <0x0 0xfe371000 0x0 0x1000>;
		reg-names = "nna_irq_wrapper";
	};

	nna_top_ports_wrapper_2: nna_top_ports_wrapper@fe372000 {
		compatible = "amazon,nna-1.0";
		device-name = "acenna2";
		status = "okay";
		clocks = <&clkc  CLKID_NNA2>;
		assigned-clocks =<&clkc CLKID_NNA2>;
		assigned-clock-parentsd = <&clkc CLKID_FCLK_DIV2P5>;
		assigned-clock-rates = <800000000>;
		clock-names = "nna_clk_gate";
		interrupt-names = "nna_interrupt";
		interrupts = <0 150 1>;
		minor-number = <2>;
		power-domains = <&pwrdm PDID_P1_NNA_C>,
				<&pwrdm PDID_P1_NNA_TOP>;
		power-domain-names = "pwrc-core","pwrc-top";
		reg = <0x0 0xfe372000 0x0 0x1000>;
		reg-names = "nna_irq_wrapper";
	};

	nna_top_ports_wrapper_3: nna_top_ports_wrapper@fe373000 {
		compatible = "amazon,nna-1.0";
		device-name = "acenna3";
		status = "okay";
		clocks = <&clkc  CLKID_NNA3>;
		assigned-clocks =<&clkc CLKID_NNA3>;
		assigned-clock-parentsd = <&clkc CLKID_FCLK_DIV2P5>;
		assigned-clock-rates = <800000000>;
		clock-names = "nna_clk_gate";
		interrupt-names = "nna_interrupt";
		interrupts = <0 151 1>;
		minor-number = <3>;
		power-domains = <&pwrdm PDID_P1_NNA_D>,
				<&pwrdm PDID_P1_NNA_TOP>;
		power-domain-names = "pwrc-core","pwrc-top";
		reg = <0x0 0xfe373000 0x0 0x1000>;
		reg-names = "nna_irq_wrapper";
	};
	nna_top_ports_wrapper_4: nna_top_ports_wrapper@fe374000 {
		compatible = "amazon,nna-1.0";
		device-name = "acenna4";
		status = "okay";
		clocks = <&clkc  CLKID_NNA4>;
		assigned-clocks =<&clkc CLKID_NNA4>;
		assigned-clock-parentsd = <&clkc CLKID_FCLK_DIV2P5>;
		assigned-clock-rates = <800000000>;
		clock-names = "nna_clk_gate";
		interrupt-names = "nna_interrupt";
		interrupts = <0 152 1>;
		minor-number = <4>;
		power-domains = <&pwrdm PDID_P1_NNA_E>,
				<&pwrdm PDID_P1_NNA_TOP>;
		power-domain-names = "pwrc-core","pwrc-top";
		reg = <0x0 0xfe374000 0x0 0x1000>;
		reg-names = "nna_irq_wrapper";
	};
	nna_top_ports_wrapper_5: nna_top_ports_wrapper@fe375000 {
		compatible = "amazon,nna-1.0";
		device-name = "acenna5";
		status = "okay";
		clocks = <&clkc  CLKID_NNA5>;
		assigned-clocks =<&clkc CLKID_NNA5>;
		assigned-clock-parentsd = <&clkc CLKID_FCLK_DIV2P5>;
		assigned-clock-rates = <800000000>;
		clock-names = "nna_clk_gate";
		interrupt-names = "nna_interrupt";
		interrupts = <0 153 1>;
		minor-number = <5>;
		power-domains = <&pwrdm PDID_P1_NNA_F>,
				<&pwrdm PDID_P1_NNA_TOP>;
		power-domain-names = "pwrc-core","pwrc-top";
		reg = <0x0 0xfe375000 0x0 0x1000>;
		reg-names = "nna_irq_wrapper";
	};

	jtag {
		compatible = "amlogic, jtag";
		status = "disabled";
		select = "disable"; /* disable/jtag_a/jtag_b */
		pinctrl-names="jtag_a_pins", "jtag_b_pins";
		pinctrl-0=<&jtag_a_pins>;
		pinctrl-1=<&jtag_b_pins>;
	};

	hifi4dsp: hifi4dsp {
		compatible = "amlogic, hifi4dsp";
		memory-region = <&dsp_fw_reserved>;
		reg = <0 0xfe340018 0 0x114>,   /*dspa base address*/
			  <0 0xfe350018 0 0x114>,   /*dspb base address*/
			  <0 0xfe010258 0 0x4>,     /*dspa status counter*/
			  <0 0xfe01025c 0 0x4>,     /*dspb status counter*/
			  <0 0x40820000 0 0x80000>; /*dsp shm region*/
		dsp-monitor-period-ms = <1000>;
		reg-names = "dspa_top_reg", "dspb_top_reg";
		//clocks = <&clkc CLKID_DSPA_CLK>, <&clkc CLKID_DSPB_CLK>;
		//clock-names = "dspa_clk", "dspb_clk";
		dsp-start-mode = <1>; /*0:scpi start mode,1:smc start mode*/
		dsp-cnt = <2>;
		dspaoffset = <0xa0000>;
		dspboffset = <0x8a0000>;
		bootlocation = <1>;   /*1: boot from DDR, 2: from sram, 3...*/
		boot_sram_addr = <0xfff00000>;
		boot_sram_size = <0x80000>;
		//dspsrambase = <0xf7100000>;
		//dspsramsize = <0x100000>;
		power-domains = <&pwrdm PDID_P1_DSPA>,
						<&pwrdm PDID_P1_DSPB>;
		power-domain-names = "dspa", "dspb";
		status = "disabled";
	};

	vddcpua: pwmao_d-regulator {
		compatible = "pwm-regulator";
		//pwms = <&pwmao_cd MESON_PWM_1 1500 0>;
		regulator-name = "vddcpua";
		regulator-min-microvolt = <689000>;
		regulator-max-microvolt = <1049000>;
		regulator-always-on;
		max-duty-cycle = <1500>;
		/* Voltage Duty-Cycle */
		voltage-table = <1049000 0>,
				<1039000 3>,
				<1029000 6>,
				<1019000 9>,
				<1009000 12>,
				<999000 14>,
				<989000 17>,
				<979000 20>,
				<969000 23>,
				<959000 26>,
				<949000 29>,
				<939000 31>,
				<929000 34>,
				<919000 37>,
				<909000 40>,
				<899000 43>,
				<889000 45>,
				<879000 48>,
				<869000 51>,
				<859000 54>,
				<849000 56>,
				<839000 59>,
				<829000 62>,
				<819000 65>,
				<809000 68>,
				<799000 70>,
				<789000 73>,
				<779000 76>,
				<769000 79>,
				<759000 81>,
				<749000 84>,
				<739000 87>,
				<729000 89>,
				<719000 92>,
				<709000 95>,
				<699000 98>,
				<689000 100>;
		status = "disabled";
	};

	vddcpub: pwmao_b-regulator {
		compatible = "pwm-regulator";
		//pwms = <&pwmao_ab MESON_PWM_1 1500 0>;
		regulator-name = "vddcpub";
		regulator-min-microvolt = <689000>;
		regulator-max-microvolt = <1049000>;
		regulator-always-on;
		max-duty-cycle = <1500>;
		/* Voltage Duty-Cycle */
		voltage-table = <1049000 0>,
				<1039000 3>,
				<1029000 6>,
				<1019000 9>,
				<1009000 12>,
				<999000 14>,
				<989000 17>,
				<979000 20>,
				<969000 23>,
				<959000 26>,
				<949000 29>,
				<939000 31>,
				<929000 34>,
				<919000 37>,
				<909000 40>,
				<899000 43>,
				<889000 45>,
				<879000 48>,
				<869000 51>,
				<859000 54>,
				<849000 56>,
				<839000 59>,
				<829000 62>,
				<819000 65>,
				<809000 68>,
				<799000 70>,
				<789000 73>,
				<779000 76>,
				<769000 79>,
				<759000 81>,
				<749000 84>,
				<739000 87>,
				<729000 89>,
				<719000 92>,
				<709000 95>,
				<699000 98>,
				<689000 100>;
		status = "disabled";
	};

	saradc: saradc@fe026000 {
		compatible = "amlogic,meson-g12a-saradc",
			   "amlogic,meson-saradc";
		status = "disabled";
		#io-channel-cells = <1>;
		//clocks = <&xtal>,
		//    <&clkc CLKID_SAR_ADC>,
		//    <&clkc CLKID_SARADC_GATE>,
		//    <&clkc CLKID_SARADC_MUX>;
		clock-names = "clkin", "core",
		    "adc_clk", "adc_sel";
		interrupts = <GIC_SPI 181 IRQ_TYPE_EDGE_RISING>;
		reg = <0x00 0xfe026000 0x00 0x48>;
	};

	soc {
		compatible = "simple-bus";
		#address-cells = <2>;
		#size-cells = <2>;
		ranges;

		apb4: apb4@fe000000 {
			compatible = "simple-bus";
			reg = <0x0 0xfe000000 0x0 0x480000>;
			#address-cells = <2>;
			#size-cells = <2>;
			ranges = <0x0 0x0 0x0 0xfe000000 0x0 0x480000>;
			status = "okay";

			clkc: clock-controller {
				compatible = "amlogic,p1-clkc";
				#clock-cells = <1>;
				reg = <0x0 0x0 0x0 0xb50>,
				      <0x0 0x8000 0x0 0x34c>,
				      <0x0 0xe040 0x0 0xbc>;
				reg-names = "basic", "pll", "cpu_clk";
				clocks = <&xtal>;
				clock-names = "xtal";
				status = "okay";
			};

			meson_clk_msr@48000 {
				compatible = "amlogic,meson-p1-clk-measure";
				reg = <0x0 0x48000 0x0 0x1c>;
				status = "okay";
			};

			watchdog@2100 {
				compatible = "amlogic,meson-sc2-wdt";
				status = "okay";
				/* 0:userspace, 1:kernel */
				amlogic,feed_watchdog_mode = <1>;
				reg = <0x0 0x2100 0x0 0x10>;
				clocks = <&xtal>;
			};

			periphs_pinctrl: pinctrl@4008 {
				compatible = "amlogic,meson-p1-periphs-pinctrl";
				#address-cells = <2>;
				#size-cells = <2>;
				ranges;

				gpio: bank@4008 {
					reg = <0x0 0x4008 0x0 0x008c>,
					      <0x0 0x4200 0x0 0x035c>;
					reg-names = "mux", "gpio";
					gpio-controller;
					#gpio-cells = <2>;
					gpio-ranges = <&periphs_pinctrl 0 0 218>;
				};
			};

			storage_pinctrl: pinctrl@86000 {
				compatible = "amlogic,meson-p1-storage-pinctrl";
				#address-cells = <2>;
				#size-cells = <2>;
				ranges;

				gpio_sto: bank@86000 {
					reg = <0x0 0x86000 0x0 0x8>,
					      <0x0 0x86380 0x0 0x020>;
					reg-names = "mux", "gpio";
					gpio-controller;
					#gpio-cells = <2>;
					gpio-ranges = <&storage_pinctrl 0 0 13>;
				};
			};

			gpio_intc: interrupt-controller@40c0 {
				compatible = "amlogic,meson-p1-gpio-intc",
					     "amlogic,meson-gpio-intc";
				reg = <0x0 0x40c0 0x0 0x50>;
				interrupt-controller;
				#interrupt-cells = <2>;
				amlogic,channel-interrupts =
					<288 289 290 291 292 293 294 295 296 297 298 299
					 300 301 302 303 304 305 306 307 308 309 310 311
					 312 313 314 315 316 317 318 319>;
			};

			spicc0: spi@50000 {
				compatible = "amlogic,meson-g12-spicc";
				reg = <0x0 0x50000 0x0 0x44>;
				interrupts = <GIC_SPI 183 IRQ_TYPE_LEVEL_HIGH>;
				clocks = <&clkc CLKID_SYS_CLK_SPICC0>,
					 <&clkc CLKID_SPICC0>;
				clock-names = "core", "async";
				#address-cells = <1>;
				#size-cells = <0>;
				//power-domains = <&pwrdm PDID_T7_SPICC0>;
				status = "disabled";
			};

			spicc1: spi@52000 {
				compatible = "amlogic,meson-g12-spicc";
				reg = <0x0 0x52000 0x0 0x44>;
				interrupts = <GIC_SPI 184 IRQ_TYPE_LEVEL_HIGH>;
				clocks = <&clkc CLKID_SYS_CLK_SPICC1>,
					 <&clkc CLKID_SPICC1>;
				clock-names = "core", "async";
				#address-cells = <1>;
				#size-cells = <0>;
				//power-domains = <&pwrdm PDID_T7_SPICC1>;
				status = "disabled";
			};

			spicc2: spi@54000 {
				compatible = "amlogic,meson-g12-spicc";
				reg = <0x0 0x54000 0x0 0x44>;
				interrupts = <GIC_SPI 167 IRQ_TYPE_LEVEL_HIGH>;
				clocks = <&clkc CLKID_SYS_CLK_SPICC2>,
					 <&clkc CLKID_SPICC2>;
				clock-names = "core", "async";
				#address-cells = <1>;
				#size-cells = <0>;
				//power-domains = <&pwrdm PDID_T7_SPICC2>;
				status = "disabled";
			};

			spicc3: spi@4a000 {
				compatible = "amlogic,meson-g12-spicc";
				reg = <0x0 0x4a000 0x0 0x44>;
				interrupts = <GIC_SPI 189 IRQ_TYPE_LEVEL_HIGH>;
				clocks = <&clkc CLKID_SYS_CLK_SPICC3>,
					 <&clkc CLKID_SPICC3>;
				clock-names = "core", "async";
				#address-cells = <1>;
				#size-cells = <0>;
				//power-domains = <&pwrdm PDID_T7_SPICC3>;
				status = "disabled";
			};

			spicc4: spi@4c000 {
				compatible = "amlogic,meson-g12-spicc";
				reg = <0x0 0x4c000 0x0 0x44>;
				interrupts = <GIC_SPI 190 IRQ_TYPE_LEVEL_HIGH>;
				clocks = <&clkc CLKID_SYS_CLK_SPICC4>,
					 <&clkc CLKID_SPICC4>;
				clock-names = "core", "async";
				#address-cells = <1>;
				#size-cells = <0>;
				//power-domains = <&pwrdm PDID_T7_SPICC4>;
				status = "disabled";
			};

			spicc5: spi@4e000 {
				compatible = "amlogic,meson-g12-spicc";
				reg = <0x0 0x4e000 0x0 0x44>;
				interrupts = <GIC_SPI 191 IRQ_TYPE_LEVEL_HIGH>;
				clocks = <&clkc CLKID_SYS_CLK_SPICC5>,
					 <&clkc CLKID_SPICC5>;
				clock-names = "core", "async";
				#address-cells = <1>;
				#size-cells = <0>;
				//power-domains = <&pwrdm PDID_T7_SPICC5>;
				status = "disabled";
			};

			spifc: spi@56000 {
				compatible = "amlogic,meson-spifc";
				status = "disabled";
				reg = <0x0 0x56000 0x0 0x80>;
				clock-names = "default";
				clocks = <&clkc CLKID_SYS_CLK_SPIFC>;
				pinctrl-names = "default";
				pinctrl-0 = <&spifc_all_pins>;
				#address-cells = <1>;
				#size-cells = <0>;
				spi-nor@0 {
					compatible = "jedec,spi-nor";
					status = "disabled";
					reg = <0>;
					spi-max-frequency = <16000000>;
				};
			};

			pwm_ab: pwm@58000 {
				compatible = "amlogic,meson-v2-pwm";
				reg = <0x0 0x58000 0x0 0x24>;
				#pwm-cells = <3>;
				clocks = <&clkc CLKID_PWM_A>,
						<&clkc CLKID_PWM_B>;
				clock-names = "clkin0", "clkin1";
				status = "disabled";
			};

			pwm_cd: pwm@5a000 {
				compatible = "amlogic,meson-v2-pwm";
				reg = <0x0 0x5a000 0x0 0x24>;
				#pwm-cells = <3>;
				clocks = <&clkc CLKID_PWM_C>,
						<&clkc CLKID_PWM_D>;
				clock-names = "clkin0", "clkin1";
				status = "disabled";
			};

			pwm_ef: pwm@5c000 {
				compatible = "amlogic,meson-v2-pwm";
				reg = <0x0 0x5c000 0x0 0x24>;
				#pwm-cells = <3>;
				clocks = <&clkc CLKID_PWM_E>,
						<&clkc CLKID_PWM_F>;
				clock-names = "clkin0", "clkin1";
				status = "disabled";
			};

			pwm_gh: pwm@5e000 {
				compatible = "amlogic,meson-v2-pwm";
				reg = <0x0 0x5e000 0x0 0x24>;
				#pwm-cells = <3>;
				clocks = <&clkc CLKID_PWM_G>,
						<&clkc CLKID_PWM_H>;
				clock-names = "clkin0", "clkin1";
				status = "disabled";
			};

			pwm_ij: pwm@60000 {
				compatible = "amlogic,meson-v2-pwm";
				reg = <0x0 0x60000 0x0 0x24>;
				#pwm-cells = <3>;
				clocks = <&clkc CLKID_PWM_I>,
						<&clkc CLKID_PWM_J>;
				clock-names = "clkin0", "clkin1";
				status = "disabled";
			};

			i2c0: i2c@66000 {
				compatible = "amlogic,meson-i2c";
				reg = <0x0 0x66000 0x0 0x48>;
				interrupts = <GIC_SPI 160 IRQ_TYPE_EDGE_RISING>;
				#address-cells = <1>;
				#size-cells = <0>;
				clocks = <&clkc CLKID_SYS_CLK_I2C_M_A>;
				status = "disabled";
			};

			i2c1: i2c@68000 {
				compatible = "amlogic,meson-i2c";
				reg = <0x0 0x68000 0x0 0x48>;
				interrupts = <GIC_SPI 161 IRQ_TYPE_EDGE_RISING>;
				#address-cells = <1>;
				#size-cells = <0>;
				clocks = <&clkc CLKID_SYS_CLK_I2C_M_B>;
				status = "disabled";
			};

			i2c2: i2c@6a000 {
				compatible = "amlogic,meson-i2c";
				reg = <0x0 0x6a000 0x0 0x48>;
				interrupts = <GIC_SPI 162 IRQ_TYPE_EDGE_RISING>;
				#address-cells = <1>;
				#size-cells = <0>;
				clocks = <&clkc CLKID_SYS_CLK_I2C_M_C>;
				status = "disabled";
			};

			i2c3: i2c@6c000 {
				compatible = "amlogic,meson-i2c";
				reg = <0x0 0x6c000 0x0 0x48>;
				interrupts = <GIC_SPI 163 IRQ_TYPE_EDGE_RISING>;
				#address-cells = <1>;
				#size-cells = <0>;
				clocks = <&clkc CLKID_SYS_CLK_I2C_M_D>;
				status = "disabled";
			};

			i2c4: i2c@6e000 {
				compatible = "amlogic,meson-i2c";
				reg = <0x0 0x6e000 0x0 0x48>;
				interrupts = <GIC_SPI 164 IRQ_TYPE_EDGE_RISING>;
				#address-cells = <1>;
				#size-cells = <0>;
				clocks = <&clkc CLKID_SYS_CLK_I2C_M_E>;
				status = "disabled";
			};

			i2c5: i2c@70000 {
				compatible = "amlogic,meson-i2c";
				reg = <0x0 0x070000 0x0 0x48>;
				interrupts = <GIC_SPI 165 IRQ_TYPE_EDGE_RISING>;
				#address-cells = <1>;
				#size-cells = <0>;
				clocks = <&clkc CLKID_SYS_CLK_I2C_M_F>;
				status = "disabled";
			};

			i2c6: i2c@a2000 {
				compatible = "amlogic,meson-i2c";
				reg = <0x0 0xa2000 0x0 0x48>;
				interrupts = <GIC_SPI 173 IRQ_TYPE_EDGE_RISING>;
				#address-cells = <1>;
				#size-cells = <0>;
				clocks = <&clkc CLKID_SYS_CLK_I2C_M_G>;
				status = "disabled";
			};

			i2c7: i2c@a4000 {
				compatible = "amlogic,meson-i2c";
				reg = <0x0 0xa4000 0x0 0x48>;
				interrupts = <GIC_SPI 174 IRQ_TYPE_EDGE_RISING>;
				#address-cells = <1>;
				#size-cells = <0>;
				clocks = <&clkc CLKID_SYS_CLK_I2C_M_H>;
				status = "disabled";
			};

			i2c8: i2c@a6000 {
				compatible = "amlogic,meson-i2c";
				reg = <0x0 0xa6000 0x0 0x48>;
				interrupts = <GIC_SPI 176 IRQ_TYPE_EDGE_RISING>;
				#address-cells = <1>;
				#size-cells = <0>;
				clocks = <&clkc CLKID_SYS_CLK_I2C_M_I>;
				status = "disabled";
			};

			i2c9: i2c@a8000 {
				compatible = "amlogic,meson-i2c";
				reg = <0x0 0xa8000 0x0 0x48>;
				interrupts = <GIC_SPI 179 IRQ_TYPE_EDGE_RISING>;
				#address-cells = <1>;
				#size-cells = <0>;
				clocks = <&clkc CLKID_SYS_CLK_I2C_M_J>;
				status = "disabled";
			};

			i2c10: i2c@aa000 {
				compatible = "amlogic,meson-i2c";
				reg = <0x0 0xaa000 0x0 0x48>;
				interrupts = <GIC_SPI 185 IRQ_TYPE_EDGE_RISING>;
				#address-cells = <1>;
				#size-cells = <0>;
				clocks = <&clkc CLKID_SYS_CLK_I2C_M_K>;
				status = "disabled";
			};

			uart_B: serial@7a000 {
				compatible = "amlogic,meson-uart";
				reg = <0x0 0x7a000 0x0 0x18>;
				interrupts = <0 169 1>;
				status = "disabled";
				clocks = <&xtal
						&clkc CLKID_SYS_CLK_UART_B>;
				clock-names = "clk_uart",
						"clk_gate";
				xtal_tick_en = <2>;
				fifosize = < 64 >;
				pinctrl-names = "default";
				pinctrl-0 = <&b_uart_pins>;
				support-sysrq = <1>;  /* 0 not support*/
			};

			eth_phy: mdio-multiplexer@28000 {
				compatible = "amlogic,g12a-mdio-mux";
				reg = <0x0 0x28000 0x0 0xa4>;
				status = "disabled";
				//clocks = <&clkc CLKID_ETHPHY>,
				//	 <&xtal>,
				//	 <&clkc CLKID_MPLL_50M>;
				//clock-names = "pclk", "clkin0", "clkin1";
				mdio-parent-bus = <&mdio0>;
				#address-cells = <1>;
				#size-cells = <0>;
				enet_type = <5>;
				tx_amp_src = <0xFE010330>;

				ext_mdio: mdio@0 {
					reg = <0>;
					#address-cells = <1>;
					#size-cells = <0>;
				};

				int_mdio: mdio@1 {
					reg = <1>;
					#address-cells = <1>;
					#size-cells = <0>;

					internal_ephy: ethernet_phy@8 {
						compatible = "ethernet-phy-id0180.3301",
							     "ethernet-phy-ieee802.3-c22";
						status = "disable";
						interrupts = <GIC_SPI 340 IRQ_TYPE_LEVEL_HIGH>;
						reg = <8>;
						max-speed = <100>;
					};
				};
			};

			reset: reset-controller@2000 {
				compatible = "amlogic,meson-p1-reset";
				reg = <0x0 0x2000 0x0 0xa0>;
				#reset-cells = <1>;
			};

			cpu_version {
				compatible = "amlogic,meson-gx-ao-secure", "syscon";
				status = "disable";
				reg=<0x0 0x10220 0x0 0x140>;
			};

			gbl_timer: global_timer@8e000 {
				compatible = "amlogic, meson-glb-timer";
				reg = <0x0 0x8e000 0x0 0x28>,
				      <0x0 0x8e040 0x0 0x68c>,
				      <0x0 0x8e800 0x0 0x1f8>,
				      <0x0 0x8f000 0x0 0x3c>;
				reg-names = "topctrl", "srcsel", "outctl", "outsel";
				clocks = <&clkc CLKID_SYS_CLK_GLB>;
				clock-names = "glb_clk";
			};

		};

		crg_phy_20: crgphy20@fe03c000 {
			compatible = "amlogic, amlogic-crg-drd-usb2";
			status = "disable";
			#phy-cells = <0>;
			reg = <0x0 0xfe03a000 0x0 0x80
					0x0 0xFE002000 0x0 0x100
					0x0 0xfe03c000 0x0 0x2000>;
			pll-setting-1 = <0x09400414>;
			pll-setting-2 = <0x927E0000>;
			pll-setting-3 = <0xac5f69e5>;
			pll-setting-4 = <0xbe18>;
			pll-setting-5 = <0x8000fff>;
			pll-setting-6 = <0x78000>;
			pll-setting-7 = <0xe0004>;
			pll-setting-8 = <0xe000c>;
			version = <2>;
			//power-domains = <&pwrdm PDID_SC2_USB_COMB>;
			phy0-reset-level-bit = <8>;
			usb-reset-bit = <4>;
			reset-level = <0x40>;
			pwr-ctl = <0>;
			//clocks = <&clkc CLKID_USB>;
			//clock-names = "crg_general";
			phy-id = <0>;
		};

		crg_phy_21: crgphy21@fe03e000 {
			compatible = "amlogic, amlogic-crg-drd-usb2";
			status = "disable";
			#phy-cells = <0>;
			reg = <0x0 0xfe03a020 0x0 0x60
				0x0 0xFE002000 0x0 0x100
				0x0 0xfe03e000 0x0 0x2000>;
			pll-setting-1 = <0x09400414>;
			pll-setting-2 = <0x927E0000>;
			pll-setting-3 = <0xac5f69e5>;
			pll-setting-4 = <0xbe18>;
			pll-setting-5 = <0x8000fff>;
			pll-setting-6 = <0x78000>;
			pll-setting-7 = <0xe0004>;
			pll-setting-8 = <0xe000c>;
			version = <2>;
			//power-domains = <&pwrdm PDID_SC2_USB_COMB>;
			phy0-reset-level-bit = <9>;
			usb-reset-bit = <4>;
			reset-level = <0x40>;
			pwr-ctl = <0>;
			//clocks = <&clkc CLKID_USB>;
			//clock-names = "crg_general";
			phy-id = <1>;
		};

		crg3_phy_21: crg3phy21@fe03a080 {
			compatible = "amlogic, amlogic-crg-drd-usb3";
			status = "disable";
			#phy-cells = <0>;
			reg = <0x0 0xfe03a080 0x0 0x20>;
			phy1-reg = <0xfe062000>;
			phy1-reg-size = <0x2000>;
			reset-reg = <0xFE002000>;
			reset-reg-size = <0x100>;
			reset-level = <0x40>;
			usb3-apb-reset-bit = <23>;
			usb3-phy-reset-bit = <22>;
			usb3-reset-shit = <0x4>;
			//clocks = <&clkc CLKID_PCIE_PLL>;
			//clock-names = "pcie_refpll";
			phy-id = <1>;
		};

		crg3_phy_20: crg3phy20@fe03a080 {
			compatible = "amlogic, amlogic-crg-drd-usb3";
			status = "disable";
			#phy-cells = <0>;
			reg = <0x0 0xfe03a080 0x0 0x20>;
			phy1-reg = <0xfe062000>;
			phy1-reg-size = <0x2000>;
			reset-reg = <0xFE002000>;
			reset-reg-size = <0x100>;
			reset-level = <0x40>;
			usb3-apb-reset-bit = <23>;
			usb3-phy-reset-bit = <22>;
			usb3-reset-shit = <0x4>;
			//clocks = <&clkc CLKID_PCIE_PLL>;
			//clock-names = "pcie_refpll";
			phy-id = <0>;
		};

		crg20_otg: crg20otg@fe03a000 {
			compatible = "amlogic, amlogic-crg-otg";
			status = "disabled";
			usb2-phy-reg = <0xfe03a000>;
			usb2-phy-reg-size = <0x80>;
			usb3-phy-reg = <0xfe03a080>;
			usb3-phy-reg-size = <0x20>;
			interrupts = <0 129 IRQ_TYPE_EDGE_RISING>;
		};

		crg21_otg: crg21otg@fe03a020 {
			compatible = "amlogic, amlogic-crg-otg";
			status = "disabled";
			usb2-phy-reg = <0xfe03a020>;
			usb2-phy-reg-size = <0x60>;
			usb3-phy-reg = <0xfe03a080>;
			usb3-phy-reg-size = <0x20>;
			interrupts = <0 281 IRQ_TYPE_EDGE_RISING>;
		};

		crg2_drd: crg2drd@fdd00000 {
			status = "disabled";
			reg = <0x0 0xfdd00000 0x0 0x100000>;
			interrupts = <0 131 IRQ_TYPE_EDGE_RISING>;
			usb-phy = <&crg_phy_21>, <&crg3_phy_21>;
			cpu-type = "gxl";
			clock-src = "usb3.0";

			//clocks = <&clkc CLKID_USB>;
			clock-names = "crg_general";
		};

		crg3_drd: crg3drd@fde00000 {
			status = "disabled";
			reg = <0x0 0xfde00000 0x0 0x100000>;
			interrupts = <0 130 IRQ_TYPE_EDGE_RISING>;
			usb-phy = <&crg_phy_20>, <&crg3_phy_20>;
			cpu-type = "gxl";
			clock-src = "usb3.0";

			//clocks = <&clkc CLKID_USB>;
			clock-names = "crg_general";
		};

		crg_udc_3: crgudc3@0xfde00000 {
			compatible = "amlogic, crg_udc";
			status = "disable";
			device_name = "crg_udc_3";
			reg = <0x0 0xfde00000 0x0 0x100000>;
			interrupts = <0 130 IRQ_TYPE_EDGE_RISING>;
			clock-src = "usb0"; /** clock src */
			port-speed = <0>; /** 0: default, high, 1: full */
			phy-reg = <0xfe03a000>;
			phy-reg-size = <0xa0>;
			//clocks = <&clkc CLKID_USB>;
			clock-names = "usb_general";
			phy-id = <0>;
		};

		crg_udc_2: crgudc2@0xfdd00000 {
			compatible = "amlogic, crg_udc";
			status = "disable";
			device_name = "crg_udc_2";
			reg = <0x0 0xfdd00000 0x0 0x100000>;
			interrupts = <0 131 IRQ_TYPE_EDGE_RISING>;
			clock-src = "usb0"; /** clock src */
			port-speed = <0>; /** 0: default, high, 1: full */
			phy-reg = <0xfe03a020>;
			phy-reg-size = <0xa0>;
			//clocks = <&clkc CLKID_USB>;
			clock-names = "usb_general";
			phy-id = <1>;
		};

		dummy_codec:dummy{
			#sound-dai-cells = <0>;
			compatible = "amlogic, aml_dummy_codec";
			status = "okay";
		};
		acodec:codec {
			#sound-dai-cells = <0>;
			compatible = "amlogic, tm2_revb_acodec";
			reg = <0x0 0xfe01a000 0x0 0x1c>;
			tdmout_index = <0>;
			tdmin_index = <0>;
			dat0_ch_sel = <1>;

			status = "disabled";
		};

		audio_data: audio_data {
			compatible = "amlogic, audio_data";
			mem_in_base_cmd = <0x82000020>;
			query_licence_cmd = <0x82000050>;
			status = "disabled";
		};

		audiobus: audiobus@0xFE330000 {
			compatible = "amlogic, audio-controller", "simple-bus";
			reg = <0x0 0xFE330000 0x0 0x3000>;
			#address-cells = <2>;
			#size-cells = <2>;
			ranges = <0x0 0x0 0x0 0xFE330000 0x0 0x3000>;

		//	power-domains = <&pwrdm PDID_T7_AUDIO>;
			status = "okay";

			clkaudio: audio_clocks {
				compatible = "amlogic, p1-audio-clocks";
				#clock-cells = <1>;
				reg = <0x0 0x0 0x0 0xb0>;
				status = "okay";
			};
			ddr_manager {
				compatible =
					"amlogic, p1-audio-ddr-manager";
				interrupts = <
					GIC_SPI 32 IRQ_TYPE_EDGE_RISING
					GIC_SPI 33 IRQ_TYPE_EDGE_RISING
					GIC_SPI 34 IRQ_TYPE_EDGE_RISING
					GIC_SPI 45 IRQ_TYPE_EDGE_RISING
					GIC_SPI 36 IRQ_TYPE_EDGE_RISING
					GIC_SPI 37 IRQ_TYPE_EDGE_RISING
					GIC_SPI 38 IRQ_TYPE_EDGE_RISING
					GIC_SPI 46 IRQ_TYPE_EDGE_RISING
				>;
				interrupt-names =
					"toddr_a", "toddr_b", "toddr_c",
					"toddr_d",
					"frddr_a", "frddr_b", "frddr_c",
					"frddr_d";
				status = "okay";
			};

		pinctrl_audio: pinctrl {
				compatible = "amlogic, audio-pinctrl";
				status = "okay";
			};
		};/* end of audiobus*/

		/* eARC */
		audio_earc: bus@fe333000 {
			compatible = "simple-bus";
			reg = <0x0 0xfe333000 0x0 0x1000>;
			#address-cells = <2>;
			#size-cells = <2>;
			ranges = <0x0 0x0 0x0 0xfe333000 0x0 0x1000>;
			status = "disabled";

			earc: earc@0 {
				compatible = "amlogic, t7-snd-earc";
				#sound-dai-cells = <0>;

				status = "disabled";

				reg = <0x0 0x0 0x0 0x400>,
					<0x0 0x400 0x0 0x200>,
					<0x0 0x600 0x0 0x200>,
					<0x0 0x800 0x0 0x400>,
					<0x0 0xc00 0x0 0x200>,
					<0x0 0xe00 0x0 0x200>;
				reg-names = "tx_cmdc",
					"tx_dmac",
					"tx_top",
					"rx_cmdc",
					"rx_dmac",
					"rx_top";

				clocks = < &clkaudio CLKID_EARCRX_CMDC
					&clkaudio CLKID_EARCRX_DMAC
					&clkc CLKID_FCLK_DIV4
					&clkc CLKID_FCLK_DIV4
					&clkaudio CLKID_EARCTX_CMDC
					&clkaudio CLKID_EARCTX_DMAC
					&clkc CLKID_FCLK_DIV4
					&clkc CLKID_MPLL1
					>;
				clock-names =
					"rx_cmdc",
					"rx_dmac",
					"rx_cmdc_srcpll",
					"rx_dmac_srcpll",
					"tx_cmdc",
					"tx_dmac",
					"tx_cmdc_srcpll",
					"tx_dmac_srcpll";

				interrupts = <
					GIC_SPI 48 IRQ_TYPE_LEVEL_HIGH
					GIC_SPI 49 IRQ_TYPE_LEVEL_HIGH>;
				interrupt-names = "earc_rx", "earc_tx";
			};
		};

		/* Sound iomap */
		aml_snd_iomap {
			compatible = "amlogic, snd-iomap";
			status = "okay";
			#address-cells=<2>;
			#size-cells=<2>;
			ranges;
			pdm_bus {
				reg = <0x0 0xFE331000 0x0 0x400>;
			};
			audiobus_base {
				reg = <0x0 0xFE330000 0x0 0x1000>;
			};
			audiolocker_base {
				reg = <0x0 0xFE331400 0x0 0x400>;
			};
			eqdrc_base {
				reg = <0x0 0xFE332000 0x0 0x1000>;
			};
			vad_base {
				reg = <0x0 0xFE331800 0x0 0x400>;
			};
			resampleA_base {
				reg = <0x0 0xFE331c00 0x0 0x104>;
			};
			resampleB_base {
				reg = <0x0 0xFE334000 0x0 0x104>;
			};
			pdm_bus_b {
				reg = <0x0 0xFE334800 0x0 0x400>;
			};
		};

		pcie: pcie@f5000000 {
			compatible = "amlogic, amlogic-pcie-v2", "snps,dw-pcie";
			reg = <0x0 0xf5000000 0x0 0x400000
				0x0 0xfe02c000 0x0 0x2000
				0x0 0xf5400000 0x0 0x200000
				0x0 0xfe02a000 0x0 0x2000
				0x0 0xfe002044 0x0 0x10>;
			reg-names = "elbi", "cfg", "config", "phy", "reset";
			interrupts = <GIC_SPI 141 IRQ_TYPE_EDGE_RISING>;
			#interrupt-cells = <1>;
			bus-range = <0x0 0xff>;
			#address-cells = <3>;
			#size-cells = <2>;
			interrupt-map-mask = <0 0 0 0>;
			interrupt-map = <0 0 0 0 &gic GIC_SPI 143 IRQ_TYPE_EDGE_RISING>;
			device_type = "pci";
			ranges = <0x81000000 0 0 0 0xf5600000 0x0 0x100000
				/* downstream I/O */
				0x82000000 0 0xf5700000 0x0 0xf5700000 0 0x1900000>;
				/* non-prefetchable memory */
			num-lanes = <1>;
			pcie-num = <1>;

			//clocks = <&clkc CLKID_PCIE_PLL
			//	&clkc CLKID_PCIE
			//	&clkc CLKID_PCIE_PHY
			//	&clkc CLKID_PCIE_HCSL>;
			//clock-names = "pcie_refpll",
			//		"pcie",
			//		"pcie_phy",
			//		"pcie_hcsl";
			/*reset-gpio-type 0:Shared pad(no reset)1:OD pad2:Normal pad*/
			gpio-type = <2>;
			pcie-apb-rst-bit = <14>;
			pcie-phy-rst-bit = <13>;
			pcie-ctrl-a-rst-bit = <12>;
			pwr-ctl = <0>;
			//power-domains = <&pwrdm PDID_T7_PCIE>;
			pcie-ctrl-sleep-shift = <15>;
			pcie-hhi-mem-pd-shift = <26>;
			pcie-hhi-mem-pd-mask = <0xf>;
			pcie-ctrl-iso-shift = <15>;
			status = "disabled";
		};

		sd_emmc_c: mmc@fe08c000 {
			compatible = "amlogic,meson-axg-mmc";
			reg = <0x0 0xfe08c000 0x0 0x800>,
				<0x0 0xfe000168 0x0 0x4>,
				<0x0 0xfe004000 0x0 0x4>;
			interrupts = <GIC_SPI 178 IRQ_TYPE_EDGE_RISING>;
			status = "disabled";
			clocks = <&clkc CLKID_SYS_CLK_SD_EMMC_C>,
				<&clkc CLKID_SD_EMMC_C_CLK_SEL>,
				 <&clkc CLKID_SD_EMMC_C_CLK>,
				 <&xtal>,
				 <&clkc CLKID_FCLK_DIV2>,
				 <&clkc CLKID_GP0_PLL>;
			clock-names = "core", "mux0", "mux1",
					"clkin0", "clkin1", "clkin2";
			card_type = <1>;
		//	src_clk_rate = <1152000000>;
			mmc_debug_flag;
			ignore_desc_busy;
			tx_delay = <16>;
			nwr_cnt = <12>;
		//	resets = <&reset RESET_SD_EMMC_C>;
		};

		sd_emmc_b: sd@fe08a000 {
			compatible = "amlogic,meson-axg-mmc";
			reg = <0x0 0xfe08a000 0x0 0x800>,
				<0x0 0xfe00016c 0x0 0x4>,
				<0x0 0xfe00401c 0x0 0x4>;
			interrupts = <GIC_SPI 177 IRQ_TYPE_EDGE_RISING>;
			status = "disabled";
			//clocks = <&clkc CLKID_SD_EMMC_B>,
			//	<&clkc CLKID_SD_EMMC_B_CLK_MUX>,
			//	 <&clkc CLKID_SD_EMMC_B_CLK>,
			//	 <&xtal>,
			//	 <&clkc CLKID_FCLK_DIV2>;
			//clock-names = "core", "mux0", "mux1",
			//		"clkin0", "clkin1";
			card_type = <5>;
			mmc_debug_flag;
			//resets = <&reset RESET_SD_EMMC_B>;
		};

		sd_emmc_a: sdio@fe088000 {
			compatible = "amlogic,meson-axg-mmc";
			reg = <0x0 0xfe088000 0x0 0x800>,
				<0x0 0xfe00016c 0x0 0x4>,
				<0x0 0xfe004008 0x0 0x4>;
			interrupts = <GIC_SPI 176 IRQ_TYPE_LEVEL_HIGH>;
			status = "disabled";
			//clocks = <&clkc CLKID_SD_EMMC_A>,
			//	<&clkc CLKID_SD_EMMC_A_CLK_MUX>,
			//	 <&clkc CLKID_SD_EMMC_A_CLK>,
			//	 <&xtal>,
			//	 <&clkc CLKID_GP0_PLL>;
			//clock-names = "core", "mux0", "mux1",
			//		"clkin0", "clkin1";
			card_type = <3>;
			cap-sdio-irq;
			keep-power-in-suspend;
			src_clk_rate = <1152000000>;
			use_intf3_tuning;
			mmc_debug_flag;
			//resets = <&reset RESET_SD_EMMC_A>;
		};

		ethmac: ethernet@fdc00000 {
			compatible = "amlogic,meson-axg-dwmac",
				     "snps,dwmac-4.00";
			reg = <0x0 0xfdc00000 0x0 0x10000>,
			      <0x0 0xfe024000 0x0 0x8>;
			interrupts = <GIC_SPI 74 IRQ_TYPE_LEVEL_HIGH>;
			interrupt-names = "macirq";
			//power-domains = <&pwrdm PDID_T7_ETH>;
			//clocks = <&clkc CLKID_ETH>,
			//	 <&clkc CLKID_FCLK_DIV2>,
			//	 <&clkc CLKID_MPLL2>;
			//clock-names = "stmmaceth", "clkin0", "clkin1";
			rx-fifo-depth = <4096>;
			tx-fifo-depth = <2048>;
			/*1:inphy; 2:exphy;*/
			internal_phy = <2>;
			cali_val = <0x80000>;
			status = "disabled";

			mdio0: mdio {
				#address-cells = <1>;
				#size-cells = <0>;
				compatible = "snps,dwmac-mdio";
				status = "disabled";
			};
		};

		uart_A: serial@fe078000 {
			compatible = "amlogic,meson-uart";
			reg = <0x0 0xfe078000 0x0 0x18>;
			interrupts = <0 168 1>;
			status = "disabled";
			clocks = <&xtal>;
			clock-names = "clk_uart";
			xtal_tick_en = <2>;
			fifosize = < 64 >;
			pinctrl-names = "default";
			//pinctrl-0 = <&a_uart_pins1>;
		};
//		uart_A: serial@fe078000 {
//			compatible = "amlogic, meson-uart";
//			reg = <0x0 0xfe078000 0x0 0x18>;
//			interrupts = <0 168 1>;
//			status = "disabled";
//			clocks = <&xtal
//						&clkc CLKID_UART_A>;
//			clock-names = "clk_uart",
//				"clk_gate";
//			xtal_tick_en = <3>;
//			fifosize = < 128 >;
//			pinctrl-names = "default";
//			pinctrl-0 = <&a_uart_pins1>;
//		};
//
		uart_C: serial@fe07c000 {
			compatible = "amlogic,meson-uart";
			reg = <0x0 0xfe07c000 0x0 0x18>;
			interrupts = <0 170 1>;
			status = "disabled";
			clocks = <&xtal
						&clkc CLKID_SYS_CLK_UART_C>;
			clock-names = "clk_uart",
				"clk_gate";
			fifosize = < 64 >;
			pinctrl-names = "default";
			pinctrl-0 = <&c_uart_pins>;
		};

		uart_D: serial@fe07e000 {
			compatible = "amlogic,meson-uart";
			status = "disabled";
			reg = <0x0 0xfe07e000 0x0 0x18>;
			interrupts = <0 171 1>;
			clocks = <&xtal
					&clkc CLKID_SYS_CLK_UART_D>;
			clock-names = "clk_uart",
					"clk_gate";
			fifosize = < 64 >;
			pinctrl-names = "default";
			pinctrl-0 = <&d_uart_pins1>;
		};

		uart_E: serial@fe080000 {
			compatible = "amlogic,meson-uart";
			status = "disabled";
			reg = <0x0 0xfe080000 0x0 0x18>;
			interrupts = <0 172 1>;
			//clocks = <&xtal
			//			&clkc CLKID_SYS_CLK_UART_E>;
			//	clock-names = "clk_uart",
			//				"clk_gate";
			fifosize = < 64 >;
			pinctrl-names = "default";
			pinctrl-0 = <&e_uart_pins>;
		};

		uart_F: serial@fe082000 {
			compatible = "amlogic,meson-uart";
			status = "disabled";
			reg = <0x0 0xfe082000 0x0 0x18>;
			interrupts = <0 173 1>;
			//clocks = <&xtal
			//		&clkc CLKID_UART_F>;
			//clock-names = "clk_uart",
			//			"clk_gate";
			fifosize = < 64 >;
			pinctrl-names = "default";
			pinctrl-0 = <&f_uart_pins>;
		};
	};

	mesonstream {
		compatible = "amlogic, codec, streambuf";
		dev_name = "mesonstream";
		status = "disabled";
		//clocks = <&clkc CLKID_DOS
		//	&clkc CLKID_VDEC_MUX
		//	&clkc CLKID_HCODEC_MUX
		//	&clkc CLKID_HEVCF_MUX
		//	&clkc CLKID_HEVCB_MUX>;
		//clock-names = "vdec",
		//	"clk_vdec_mux",
		//	"clk_hcodec_mux",
		//	"clk_hevcf_mux",
		//	"clk_hevcb_mux";
		//assigned-clock-parents = <&clkc CLKID_VDEC_P0>,
		//	<&clkc CLKID_HEVCF_P0>,
		//	<&clkc CLKID_HEVCB_P0>;
		//assigned-clocks = <&clkc CLKID_VDEC_MUX>,
		//	<&clkc CLKID_HEVCF_MUX>,
		//	<&clkc CLKID_HEVCB_MUX>;
	};

	csiphy0: csiphy0@ff918000 {
		compatible = "amlogic, csiphy0";
		reg = <0x0 0xff918000 0x0 0x3000>,
				<0x0 0xff9a0000 0x0 0x400>;
		reg-names = "csi_phy0","csi_aphy";
	};

	adapter0: adapter0@ff918000 {
		compatible = "amlogic, adapter";
		reg = <0x0 0xff918000 0x0 0x6000>;
		reg-names = "adapter";
	};

	isp0: isp0@ff900000 {
		compatible = "amlogic, isp";
		reg = <0x0 0xff900000 0x0 0x10000>;
		/* interrupt-parent = <&intc>; */
		interrupts = <0 97 1>;
	};

	camera0 {
		compatible = "amlogic, camera";
		index = <0>;
		csiphy = <&csiphy0>;
		adapter = <&adapter0>;
		isp = <&isp0>;
	};

	vdec {
		compatible = "amlogic, vdec-pm-pd";
		dev_name = "vdec.0";
		status = "disabled";
		interrupts = <0 3 1
			0 23 1
			0 32 1
			0 91 1
			0 92 1
			0 93 1
			0 72 1>;
		interrupt-names = "vsync",
			"demux",
			"parser",
			"mailbox_0",
			"mailbox_1",
			"mailbox_2",
			"parser_b";
		//power-domains = <&pwrdm PDID_T7_DOS_VDEC>,
		//	<&pwrdm PDID_T7_DOS_HCODEC>,
		//	<&pwrdm PDID_T7_DOS_HEVC>,
		//	<&pwrdm PDID_T7_DOS_WAVE>;
		//power-domain-names = "pwrc-vdec",
		//	"pwrc-hcodec",
		//	"pwrc-hevc",
		//	"pwrc-wave";
	};
	cpu_ver_name {
		compatible = "amlogic, cpu-major-id-t7";
		status = "disabled";
	};
	vcodec_dec {
		compatible = "amlogic, vcodec-dec";
		dev_name = "aml-vcodec-dec";
		status = "disabled";
	};

	ddr_bandwidth {
		compatible = "amlogic,ddr-bandwidth-p1";
		status = "okay";
		reg = <0 0xfe036000 0 0x200
		       0 0xfe034000 0 0x200
		       0 0xfe032000 0 0x200
		       0 0xfe030000 0 0x200
		       0 0xfe0a0000 0 0x100>;
		interrupts = <0 332 IRQ_TYPE_EDGE_RISING
			      0 336 IRQ_TYPE_EDGE_RISING
			      0 340 IRQ_TYPE_EDGE_RISING
			      0 54 IRQ_TYPE_EDGE_RISING>;
		interrupt-names = "ddr_bandwidth";
	};

	dmc_monitor {
		compatible = "amlogic,dmc_monitor-p1";
		status = "okay";
		reg = <0 0xfe036000 0 0x200
		       0 0xfe034000 0 0x200
		       0 0xfe032000 0 0x200
		       0 0xfe030000 0 0x200>;
		reg_base = <0xfe036000>;
		interrupts = <0 333 IRQ_TYPE_EDGE_RISING
			      0 337 IRQ_TYPE_EDGE_RISING
			      0 341 IRQ_TYPE_EDGE_RISING
			      0 55 IRQ_TYPE_EDGE_RISING>;
	};

	amhdmitx: amhdmitx{
		compatible = "amlogic, amhdmitx-t7";
		dev_name = "amhdmitx";
		status = "disabled";
		//power-domains = <&pwrdm PDID_T7_VI_CLK2>;
		vend-data = <&vend_data>;
		pinctrl-names="hdmitx_hpd", "hdmitx_ddc";
		pinctrl-0=<&hdmitx_hpd>;
		pinctrl-1=<&hdmitx_ddc>;
		interrupts = <0 204 1>;
		interrupt-names = "hdmitx_hpd";
		reg =	<0x0 0xff000000 0x0 0x40000>,
			<0x0 0xfe380000 0x0 0x10000>,
			<0x0 0xfe300000 0x0 0x10000>,
			<0x0 0xfe010000 0x0 0x2000>,
			<0x0 0xfe00c000 0x0 0x2000>,
			<0x0 0xfe008000 0x0 0x2000>,
			<0x0 0xfe002000 0x0 0x2000>,
			<0x0 0xfe000000 0x0 0x2000>,
			<0x0 0xfe004000 0x0 0x200>;
		reg-names = "vpu",
			    "hdmitxcor",
			    "hdmitxtop",
			    "sysctrl",
			    "pwrctrl",
			    "anactrl",
			    "resetctrl",
			    "clkctrl",
			    "padctrl";

		vend_data: vend_data{ /* Should modified by Customer */
			vendor_name = "Amlogic"; /* Max Chars: 8 */
			product_desc = "MBox Meson Ref"; /* Max Chars: 16 */
			/* standards.ieee.org/develop/regauth/oui/oui.txt */
			vendor_id = <0x000000>;
		};
	};

	aocec: aocec {
		compatible = "amlogic, aocec-t7";
		dev_name = "aocec";
		status = "disabled";
		vendor_name = "Amlogic"; /* Max Chars: 8     */
		/* Refer to the following URL at:
		 * http://standards.ieee.org/develop/regauth/oui/oui.txt
		 */
		vendor_id = <0x000000>;
		product_desc = "T7"; /* Max Chars: 16    */
		cec_osd_string = "AML_TV"; /* Max Chars: 14    */
		cec_version = <5>;/*5:1.4;6:2.0*/
		port_num = <4>;
		output = <1>;
		cec_sel = <1>;/*1:use one ip, 2:use 2 ip*/
		/*ee_cec;*/ /*use cec a or b*/
		arc_port_mask = <0x2>;
		interrupts = <GIC_SPI 180 IRQ_TYPE_EDGE_RISING/*0:snps*/
			GIC_SPI 179 IRQ_TYPE_EDGE_RISING>;/*1:ts*/
		interrupt-names = "hdmi_aocecb","hdmi_aocec";
		pinctrl-names = "default","hdmitx_aocecb","cec_pin_sleep";
		pinctrl-0=<&cec_a>;
		pinctrl-1=<&cec_b>;
		pinctrl-2=<&cec_b>;
		//clocks = <&clkc CLKID_CECA_32K_CLKOUT>,
		//	<&clkc CLKID_CECB_32K_CLKOUT>;
		clock-names = "ceca_clk","cecb_clk";
		reg = <0x0 0xfe044000 0x0 0x2ff
		       0x0 0xfe010000 0x0 0xfff
		       0x0 0xfe000000 0x0 0xfff>;
		reg-names = "ao","periphs","clock"/*ao_exit hdmirx hhi*/;
	};

	aml_dma {
		compatible = "amlogic,aml_txlx_dma";
		reg = <0x0 0xfe440400 0x0 0x48>;
		interrupts = <0 24 1>;
		status = "okay";

		aml_aes {
			compatible = "amlogic,aes_g12a_dma";
			dev_name = "aml_aes_dma";
			status = "okay";
			iv_swap = /bits/ 8 <0x0>;
		};

		aml_sha {
			compatible = "amlogic,sha_dma";
			dev_name = "aml_sha_dma";
			status = "okay";
		};

		aml_tdes {
			compatible = "amlogic,tdes_dma";
			dev_name = "aml_tdes_dma";
			status = "okay";
		};

	};

	rng {
		compatible = "amlogic,meson-rng";
		status = "okay";
		#address-cells = <2>;
		#size-cells = <2>;
		reg = <0x0 0xfe440788 0x0 0x0c>;
		quality = /bits/ 16 <1000>;
		version = <2>;
	};

	canvas: canvas{
		compatible = "amlogic, meson, canvas";
		dev_name = "amlogic-canvas";
		status = "disabled";
		reg = <0x0 0xfe036048 0x0 0x2000>;
	};

	codec_io: codec_io {
		compatible = "amlogic, meson-t7, codec-io";
		status = "disabled";
		#address-cells=<2>;
		#size-cells=<2>;
		ranges;
		/* use cbus space for reset_ctrl*/
		reg =	<0x0 0xfe002000 0x0 0x2000>,
			<0x0 0xfe320000 0x0 0x10000>,
			<0x0 0x0 0x0 0x0>,
			<0x0 0x0 0x0 0x00>,
			<0x0 0xff000000 0x0 0x40000>,
			<0x0 0xfe036000 0x0 0x2000>,
			<0x0 0x0 0x0 0x0>;
		reg-names = "cbus",
			    "dosbus",
			    "hiubus",
			    "aobus",
			    "vcbus",
			    "dmcbus",
			    "efusebus";
	};

	jpegenc{
		compatible = "amlogic, jpegenc";
		dev_name = "jpegenc";
		status = "disabled";

		//clocks = <&clkc CLKID_DOS
		//	&clkc CLKID_VAPB
		//	&clkc CLKID_HCODEC_MUX>;

		//clock-names =
		//	"clk_dos",
		//	"clk_apb_dos",
		//	"clk_jpeg_enc";

		/*
		clocks = <&clkc CLKID_HCODEC_P0>;
		clock-names = "hcodec_p0";
		*/

		//power-domains = <&pwrdm PDID_T7_DOS_HCODEC>;
		interrupts = <0 91 1 0 92 1 0 93 1>;
		interrupt-names = "dos_mbox_slow_irq0", "dos_mbox_slow_irq1", "dos_mbox_slow_irq2";
		//reset-names = "jpegenc_rst";
		//resets = <&reset RESET_BRG_HCODEC_PIPL0>;
	};
	aml_enc {
		compatible = "cnm, MultiEnc";
		dev_name = "amvenc_multi";
		status = "disabled";
		config_mm_sz_mb = <200>;
		//clocks = <&clkc CLKID_DOS
		//	&clkc CLKID_VAPB
		//	&clkc CLKID_WAVE_A_GATE
		//	&clkc CLKID_WAVE_B_GATE
		//	&clkc CLKID_WAVE_C_GATE>;
		//clock-names =
		//	"clk_dos",
		//	"clk_apb_dos",
		//	"clk_MultiEnc_A",
		//	"clk_MultiEnc_B",
		//	"clk_MultiEnc_C";
		interrupts = <0 94 1 0 95 1>;
		interrupt-names = "multienc_irq", "multienc_idle_irq";
		#address-cells=<2>;
		#size-cells=<2>;
		pwr-ctl = <0>;
		//power-domains = <&pwrdm PDID_T7_DOS_WAVE>;
		ranges;
		io_reg_base {
			reg = <0x0 0xfe310000 0x0 0x10000>;
		};
	};

	vpu: vpu {
		compatible = "amlogic, vpu-t7";
		status = "disabled";
		reg =	<0x0 0xfe000000 0x0 0x100    /* clk */
			 0x0 0xfe00c000 0x0 0x70     /* pwrctrl */
			 0x0 0xff000000 0x0 0xa000>; /* vcbus */
		//clocks = <&clkc CLKID_VAPB>,
		//	<&clkc CLKID_VPU_INTR>,
		//	<&clkc CLKID_VPU_0>,
		//	<&clkc CLKID_VPU_1>,
		//	<&clkc CLKID_VPU>;
		//clock-names =	"vapb_clk",
		//		"vpu_intr_gate",
		//		"vpu_clk0",
		//		"vpu_clk1",
		//		"vpu_clk";
		clk_level = <7>;
		/* 0: 100.0M    1: 166.7M    2: 200.0M    3: 250.0M */
		/* 4: 333.3M    5: 400.0M    6: 500.0M    7: 666.7M */
	};

	meson_uvm{
		compatible = "amlogic, meson_uvm";
		status = "disabled";
	};

	meson_videotunnel{
		compatible = "amlogic, meson_videotunnel";
		status = "disabled";
	};

	video_composer {
		compatible = "amlogic, video_composer";
		dev_name = "video_composer";
		status = "disabled";
	};

	rdma{
		compatible = "amlogic, meson-t7, rdma";
		status = "disabled";
		interrupts = <GIC_SPI 215 IRQ_TYPE_EDGE_RISING>;
		interrupt-names = "rdma";
		/* after sc2 */
		//reset-names = "rdma";
		//resets = <&reset RESET_RDMA>;
		rdma_table_page_count = <16>;
	};

	vclk_serve: vclk_serve {
		compatible = "amlogic, vclk_serve";
		status = "disabled";
		reg = <0x0 0xfe008000 0x0 0x400    /* ana reg */
			0x0 0xfe000000 0x0 0x4a0>; /* clk reg */
	};

	vout_venc: vout_venc {
		compatible = "amlogic, vout_venc-t7";
		status = "disabled";
	};

	vout: vout {
		compatible = "amlogic, vout";
		status = "disabled";

		/* fr_policy:
		 *    0: disable
		 *    1: nearby (only for 60->59.94 and 30->29.97)
		 *    2: force (60/50/30/24/59.94/23.97)
		 */
		fr_policy = <2>;
	};

	vout2: vout2 {
		compatible = "amlogic, vout2";
		status = "disabled";

		/* fr_policy:
		 *    0: disable
		 *    1: nearby (only for 60->59.94 and 30->29.97)
		 *    2: force (60/50/30/24/59.94/23.97)
		 */
		fr_policy = <2>;
	};

	vout3: vout3 {
		compatible = "amlogic, vout3";
		status = "disabled";

		/* fr_policy:
		 *    0: disable
		 *    1: nearby (only for 60->59.94 and 30->29.97)
		 *    2: force (60/50/30/24/59.94/23.97)
		 */
		fr_policy = <2>;
	};

	ir: ir@8000 {
		compatible = "amlogic, meson-ir";
		reg = <0x0 0xfe084040 0x0 0x44>,
			<0x0 0xfe084000 0x0 0x20>;
		status = "disable";
		protocol = <REMOTE_TYPE_NEC>;
		interrupts = <GIC_SPI 22 IRQ_TYPE_EDGE_RISING>;
		map = <&custom_maps>;
		max_frame_time = <200>;
	};

	a73_tsensor: a73_tsensor@fe020000 {
		compatible = "amlogic, r1p1-tsensor";
		status = "disabled";
		reg = <0x0 0xfe020000 0x0 0x50>;
		tsensor_id = <1>;
		cal_type = <0x11>;
		cal_coeff = <324 424 3159 9411>;
		rtemp = <115000>;
		interrupts = <GIC_SPI 31 IRQ_TYPE_LEVEL_HIGH>;
		//clocks = <&clkc CLKID_TS_CLK_GATE>;
		clock-names = "ts_comp";
		#thermal-sensor-cells = <1>;
	};

	a53_tsensor: a53_tsensor@fe022000 {
		compatible = "amlogic, r1p1-tsensor";
		status = "disabled";
		reg = <0x0 0xfe022000 0x0 0x50>;
		tsensor_id = <2>;
		cal_type = <0x11>;
		cal_coeff = <324 424 3159 9411>;
		rtemp = <115000>;
		interrupts = <GIC_SPI 30 IRQ_TYPE_LEVEL_HIGH>;
		//clocks = <&clkc CLKID_TS_CLK_GATE>;
		clock-names = "ts_comp";
		#thermal-sensor-cells = <1>;
	};

	gpu_tsensor: gpu_tsensor@fe094000 {
		compatible = "amlogic, r1p1-tsensor";
		status = "disabled";
		reg = <0x0 0xfe094000 0x0 0x50>;
		tsensor_id = <3>;
		cal_type = <0x11>;
		cal_coeff = <324 424 3159 9411>;
		rtemp = <115000>;
		interrupts = <GIC_SPI 83 IRQ_TYPE_LEVEL_HIGH>;
		//clocks = <&clkc CLKID_TS_CLK_GATE>;
		clock-names = "ts_comp";
		//power-domains = <&pwrdm PDID_T7_MALI_TOP>;
		#thermal-sensor-cells = <1>;
	};

	nna_tsensor: nna_tsensor@fe096000 {
		compatible = "amlogic, r1p1-tsensor";
		status = "disabled";
		reg = <0x0 0xfe096000 0x0 0x50>;
		tsensor_id = <4>;
		cal_type = <0x11>;
		cal_coeff = <324 424 3159 9411>;
		rtemp = <115000>;
		interrupts = <GIC_SPI 84 IRQ_TYPE_LEVEL_HIGH>;
		//clocks = <&clkc CLKID_TS_CLK_GATE>;
		clock-names = "ts_comp";
		//power-domains = <&pwrdm PDID_T7_NNA_TOP>;
		#thermal-sensor-cells = <1>;
	};

	hevc_tsensor: hevc_tsensor@fe09a000 {
		compatible = "amlogic, r1p1-tsensor";
		status = "disabled";
		reg = <0x0 0xfe09a000 0x0 0x50>;
		tsensor_id = <5>;
		cal_type = <0x11>;
		cal_coeff = <324 424 3159 9411>;
		rtemp = <115000>;
		interrupts = <GIC_SPI 86 IRQ_TYPE_LEVEL_HIGH>;
		//clocks = <&clkc CLKID_TS_CLK_GATE>;
		clock-names = "ts_comp";
		//power-domains = <&pwrdm PDID_T7_DOS_HEVC>;
		#thermal-sensor-cells = <1>;
	};

	meson_cooldev: meson-cooldev@0 {
		status = "disabled";
		compatible = "amlogic, meson-cooldev";
		cooling_devices {
			cpucore_cool_cluster0 {
				cluster_id = <0>;
				node_name = "cpucore_cool0";
				device_type = "cpucore";
			};
			cpucore_cool_cluster1 {
				cluster_id = <1>;
				node_name = "cpucore_cool1";
				device_type = "cpucore";
			};
			gpufreq_cool {
				dyn_coeff = <358>;
				node_name = "bifrost";
				device_type = "gpufreq";
			};
		};
		cpucore_cool0:cpucore_cool0 {
			#cooling-cells = <2>;
		};
		cpucore_cool1:cpucore_cool1 {
			#cooling-cells = <2>;
		};
	};/*meson cooling devices end*/

	thermal-zones {
		soc_thermal: soc_thermal {
			status = "disabled";
			polling-delay = <1000>;
			polling-delay-passive = <100>;
			sustainable-power = <5160>;
			thermal-sensors = <&a73_tsensor 0>;
			trips {
				a73switch_on: trip-point@0 {
					temperature = <80000>;
					hysteresis = <5000>;
					type = "passive";
				};
				a73control: trip-point@1 {
					temperature = <90000>;
					hysteresis = <5000>;
					type = "passive";
				};
				a73critical: trip-point@2 {
					temperature = <110000>;
					hysteresis = <1000>;
					type = "critical";
				};
			};
			cooling-maps {
				cpufreq_cooling_map0 {
					trip = <&a73control>;
					cooling-device = <&CPU0 0 6>;
					contribution = <1024>;
				};
			};
		};
		a53_thermal: a53_thermal {
			status = "disabled";
			polling-delay = <2000>;
			polling-delay-passive = <1000>;
			sustainable-power = <960>;
			thermal-sensors = <&a53_tsensor 1>;
			trips {
				a53switch_on: trip-point@0 {
					temperature = <90000>;
					hysteresis = <5000>;
					type = "passive";
				};
				a53control: trip-point@1 {
					temperature = <100000>;
					hysteresis = <5000>;
					type = "passive";
				};
				a53critical: trip-point@2 {
					temperature = <110000>;
					hysteresis = <1000>;
					type = "critical";
				};
			};
			cooling-maps {
				cpufreq_cooling_map1 {
					trip = <&a53control>;
//					cooling-device = <&CPU4 0 5>;
					contribution = <1024>;
				};
			};
		};
		gpu_thermal: gpu_thermal {
			status = "disabled";
			polling-delay = <2000>;
			polling-delay-passive = <1000>;
			sustainable-power = <400>;
			thermal-sensors = <&gpu_tsensor 2>;
			trips {
				gpuswitch_on: trip-point@0 {
					temperature = <85000>;
					hysteresis = <5000>;
					type = "passive";
				};
				gpucontrol: trip-point@1 {
					temperature = <95000>;
					hysteresis = <5000>;
					type = "passive";
				};
				gpucritical: trip-point@2 {
					temperature = <110000>;
					hysteresis = <1000>;
					type = "critical";
				};
			};
		};
		nna_thermal: nna_thermal {
			status = "disabled";
			polling-delay = <2000>;
			polling-delay-passive = <1000>;
			sustainable-power = <3550>;
			thermal-sensors = <&nna_tsensor 3>;
			trips {
				nnaswitch_on: trip-point@0 {
					temperature = <85000>;
					hysteresis = <5000>;
					type = "passive";
				};
				nnacontrol: trip-point@1 {
					temperature = <95000>;
					hysteresis = <5000>;
					type = "passive";
				};
				nnacritical: trip-point@2 {
					temperature = <110000>;
					hysteresis = <1000>;
					type = "critical";
				};
			};
		};
		hevc_thermal: hevc_thermal {
			status = "disabled";
			polling-delay = <2000>;
			polling-delay-passive = <1000>;
			sustainable-power = <3550>;
			thermal-sensors = <&hevc_tsensor 4>;
			trips {
				hevcswitch_on: trip-point@0 {
					temperature = <85000>;
					hysteresis = <5000>;
					type = "passive";
				};
				hevccontrol: trip-point@1 {
					temperature = <95000>;
					hysteresis = <5000>;
					type = "passive";
				};
				hevccritical: trip-point@2 {
					temperature = <110000>;
					hysteresis = <1000>;
					type = "critical";
				};
			};
		};
	};/*thermal zone end*/

	ion_dev {
		compatible = "amlogic, ion_dev";
		memory-region = <&ion_cma_reserved>;
		status = "disabled";
	};

	fb: fb {
		compatible = "amlogic, fb-t7";
		memory-region = <&logo_reserved>;
		status = "disabled";
		interrupts = <GIC_SPI 197 IRQ_TYPE_EDGE_RISING
			GIC_SPI 194 IRQ_TYPE_EDGE_RISING
			GIC_SPI 215 IRQ_TYPE_EDGE_RISING>;
		interrupt-names = "viu-vsync", "viu2-vsync", "rdma";
		/* uboot logo,fb0/fb1 memory size,if afbcd fb0=0x01851000*/
		display_mode_default = "1080p60hz";
		scale_mode = <1>;
		/** 0:VPU free scale 1:OSD free scale 2:OSD super scale */
		display_size_default = <1920 1080 1920 2160 32>;
		/*1920*1080*4*3 = 0x17BB000*/
		//clocks = <&clkc CLKID_VPU_CLKC_MUX>;
		clock-names = "vpu_clkc";
	};

	irblaster: meson-irblaster@fe08410c {
		compatible = "amlogic, meson_irblaster";
		status = "disabled";
		reg = <0x0 0xfe08410c 0x0 0x10>;
		#irblaster-cells = <2>;
		interrupts = <GIC_SPI 23 IRQ_TYPE_EDGE_RISING>;
	};

	/*if you want to use vdin just modify status to "ok"*/
	vdin0: vdin0 {/*common define*/
		compatible = "amlogic, vdin-t7";
		dev_name = "vdin0";
		status = "disabled";
		/*memory-region = <&vdin0_cma_reserved>;*/
		reserve-iomap = "true";
		flag_cma = <0x101>;/*1:share with codec_mm;2:cma alone*/
		/*MByte, if 10bit disable: 64M(YUV422),
		 *if 10bit enable: 64*1.5 = 96M(YUV422)
		 *if support 4K2K-YUV444-10bit-WR:3840*2160*4*4 ~= 128M
		 *if support 4K2K-YUV422-10bit-wr:3840*2160*3*4 ~= 96M
		 *if support 4K2K-YUV422-8BIT-WR:3840*2160*2*4 ~= 64M
		 *if support 1080p-YUV422-8BIT-WR:1920*1080*2*4 ~= 16M
		 * onebuffer:
		 * worst case:(4096*2160*3 + 2M(afbce issue)) = 27.5M
		 * dw:960x540x3 = 1.5M
		 * total size:(27.5+1.5)x buffernumber
		 */
		/*cma_size = <174>;*/
		/*frame_buff_num = <6>;*/
		interrupts = <0 210 1 /* vdin0 vsync */
				0 214 1 /* vdin1 write down*/
				/*0 206 1*/ /* vpu crash */
				/*0 213 1*/>; /* vdin0 write down*/
		interrupt-names = "vsync_int",
				"mif2_meta_wr_done_int"
				/*"vpu_crash_int",*/
				/*"write_done_int"*/;
		rdma-irq = <2>;
		//clocks = <&clkc CLKID_FCLK_DIV5>, <&clkc CLKID_VDIN_MEAS_GATE>;
		clock-names = "fclk_div5", "cts_vdin_meas_clk";
		vdin_id = <0>;
		/*vdin write mem color depth support:
		 * bit0:support 8bit
		 * bit1:support 9bit
		 * bit2:support 10bit
		 * bit3:support 12bit
		 * bit4:support yuv422 10bit full pack mode (from txl new add)
		 * bit8:use 8bit  at 4k_50/60hz_10bit
		 * bit9:use 10bit at 4k_50/60hz_10bit
		 * bit10: support 10bit when double write
		 */
		tv_bit_mode = <0x215>;
		/* afbce_bit_mode: (amlogic frame buff compression encoder)
		 * bit0 -- enable afbce
		 * bit1 -- enable afbce compression-lossy
		 * bit4 -- afbce for 4k
		 * bit5 -- afbce for 1080p
		 * bit6 -- afbce for 720p
		 * bit7 -- afbce for smaller resolution
		 */
		afbce_bit_mode = <0x31>;
		/* urgent_en; */
		double_write_en;
	};

	vdin1: vdin1 {/*common define*/
		compatible = "amlogic, vdin-t7";
		dev_name = "vdin1";
		status = "disabled";
		reserve-iomap = "true";
		/*memory-region = <&vdin1_cma_reserved>;*/
		flag_cma = <0>;/*1:share with codec_mm;0:cma alone*/
		interrupts = <0 212 1>;
		interrupt-names = "vsync_int"/*, "vpu_crash_int",*/
				/*"write_done_int"*/;
		rdma-irq = <4>;
		/*clocks = <&clock CLK_FPLL_DIV5>,
		 *	<&clock CLK_VDIN_MEAS_CLK>;
		 *clock-names = "fclk_div5", "cts_vdin_meas_clk";
		 */
		vdin_id = <1>;
		tv_bit_mode = <0x15>;
	};

	amlvecm: amlvecm {
		compatible = "amlogic, vecm-t7";
		status = "disable";
		dev_name = "aml_vecm";
		/*status = "okay";*/
		/*gamma_en = <1>;*/ /*1:enabel ;0:disable*/
		/*wb_en = <1>;*/ /*1:enabel ;0:disable*/
		/*cm_en = <1>;*/ /*1:enabel ;0:disable*/
		/*wb_sel = <0>;*/ /*1:mtx ;0:gainoff*/
		/*vlock_en = <1>;*/ /*1:enable;0:disable*/
		/*vlock_mode = <0x8>;*/
		/* vlock work mode:
		 *bit0:auto ENC
		 *bit1:auto PLL
		 *bit2:manual PLL
		 *bit3:manual ENC
		 *bit4:manual soft ENC
		 *bit5:manual MIX PLL ENC
		 */
		/* vlock_pll_m_limit = <1>;*/
		/* vlock_line_limit = <2>;*/
		//clocks = <&clkc CLKID_VID_LOCK>;
		clock-names = "cts_vid_lock_clk";
	};

	meson-amvideom {
		compatible = "amlogic, amvideom-t7";
		dev_name = "amvideom";
		status = "disable";
		interrupts = <GIC_SPI 197 IRQ_TYPE_EDGE_RISING
			GIC_SPI 194 IRQ_TYPE_EDGE_RISING
			GIC_SPI 82 IRQ_TYPE_EDGE_RISING>;
		interrupt-names = "vsync", "vsync_viu2", "vsync_viu3";
	};

	vpu_security {
		compatible = "amlogic, meson-t7, vpu_security";
		dev_name = "amlogic-vpu-security";
		status = "disabled";
		interrupts = <GIC_SPI 220 IRQ_TYPE_EDGE_RISING>;
		interrupt-names = "vpu_security";
	};

	dmx_aucpu: aucpu {
		compatible = "amlogic, aucpu";
		dev_name = "aml_aucpu";
		status = "disabled";
		interrupts = <0 77 1>;
		interrupt-names = "aucpu_irq";
		#address-cells=<2>;
		#size-cells=<2>;
		ranges;
		io_reg_base{
			reg = <0x0 0xfe09e080 0x0 0x100>;
		};
	};

	ge2d {
		compatible = "amlogic, ge2d-p1";
		status = "okay";
		interrupts = <GIC_SPI 94 IRQ_TYPE_EDGE_RISING>;
		interrupt-names = "ge2d";
		clocks = <&clkc CLKID_VAPB_0>,
			<&clkc CLKID_GE2D>;
		clock-names = "clk_vapb_0",
			"clk_ge2d_gate";
		reg = <0x0 0xff840000 0x0 0x100>;
		power-domains = <&pwrdm PDID_P1_GE2D>;
	};

	aml_bt: aml_bt {
		compatible = "amlogic, aml-bt";
		status = "disabled";
	};

	aml_wifi: aml_wifi {
		compatible = "amlogic, aml-wifi";
		status = "disabled";
		irq_trigger_type = "GPIO_IRQ_LOW";
		dhd_static_buf;
		//pinctrl-0 = <&pwm_e_pins>;
		//pinctrl-names = "default";
		pwm_config = <&wifi_pwm_conf>;
	};

	wifi_pwm_conf:wifi_pwm_conf{
		pwm_channel1_conf {
			pwms = <&pwm_ab 0 30550 0>;
			duty-cycle = <15270>;
			times = <8>;
		};
		pwm_channel2_conf {
			pwms = <&pwm_ab 2 30500 0>;
			duty-cycle = <15250>;
			times = <12>;
		};
	};

	gdc {
		#address-cells=<2>;
		#size-cells=<2>;
		status = "disabled";
		compatible = "amlogic, arm-gdc";
		reg = <0 0xfe08e000 0 0x0000100>;
		interrupts = <GIC_SPI 223 IRQ_TYPE_EDGE_RISING>;
		interrupt-names = "gdc";
		//clocks = <&clkc CLKID_GDCCLK_0>,
		//	<&clkc CLKID_GDCCLK>,
		//	<&clkc CLKID_GDC_CLK>;
		//clock-names = "mux_gate", "mux_sel", "clk_gate";
		clk-rate = <800000000>;
//		power-domains = <&pwrdm PDID_T7_GDC>;
	};

	amlgdc {
		#address-cells=<2>;
		#size-cells=<2>;
		status = "okay";
		compatible = "amlogic, aml-gdc-v2";
		reg = <0 0xfe040000 0 0x000015c>;
		interrupts = <GIC_SPI 59 IRQ_TYPE_EDGE_RISING>;
		interrupt-names = "amlgdc";
		clocks = <&clkc CLKID_DEWARPA>;
		clock-names = "clk_gate";
		clk-rate = <800000000>;
		power-domains = <&pwrdm PDID_P1_DEWA>;
	};

	mhu_fifo: mhu@0 {
		status = "okay";
		compatible = "amlogic, meson_mhu_fifo";
		reg = <0x0 0xfe006000 0x0 0x1000>,  /* mhu wr fifo */
		      <0x0 0xfe00719C 0x0 0x80>,   /* mhu set reg */
		      <0x0 0xfe00721C 0x0 0x80>,   /* mhu clr reg */
		      <0x0 0xfe00729C 0x0 0x80>,   /* mhu sts reg */
		      <0x0 0xfe007044 0x0 0xc0>;   /* mhu irqctrl reg */
		interrupts = <0 248 1>;   /* irq top */
		mbox-irqmax = <64>;
		mbox-irqctlr = <2>;
		mbox-irqclr = <1>;
		mbox-nums = <6>;
		mbox-names = "dsp_dev",
			     "ap_to_dspa",
			     "dspb_dev",
			     "ap_to_dspb",
			     "ao_dev",
			     "ap_to_ao";
		mboxes = <&mhu_fifo 0>,
			 <&mhu_fifo 1>,
			 <&mhu_fifo 2>,
			 <&mhu_fifo 3>,
			 <&mhu_fifo 4>,
			 <&mhu_fifo 5>;
		mbox-id = <0x0 0x1 0x6 0x7 0x2 0x3>;
		mbox-wr-rd = <1>;
		#mbox-cells = <1>;
	};

	lut_dma:lut_dma {
		compatible = "amlogic, meson-t7, lut_dma";
		status = "disabled";
	};

	state_led:state_led {
		compatible = "amlogic,state-led-aocpu";
		status = "disabled";
	};
	efuse: efuse{
		compatible = "amlogic, efuse";
		read_cmd = <0x82000030>;
		write_cmd = <0x82000031>;
		get_max_cmd = <0x82000033>;
		mem_in_base_cmd = <0x82000020>;
		mem_out_base_cmd = <0x82000021>;
		efuse_pattern_size = <0x600>;
		key = <&efusekey>;
		clock-names = "efuse_clk";
		status = "disabled";
	};

	efusekey:efusekey{
		status = "disabled";
		keynum = <4>;
		key0 = <&key_0>;
		key1 = <&key_1>;
		key2 = <&key_2>;
		key3 = <&key_3>;
		key_0:key_0{
			keyname = "mac";
			offset = <0>;
			size = <6>;
		};
		key_1:key_1{
			keyname = "mac_bt";
			offset = <6>;
			size = <6>;
		};
		key_2:key_2{
			keyname = "mac_wifi";
			offset = <12>;
			size = <6>;
		};
		key_3:key_3{
			keyname = "usid";
			offset = <18>;
			size = <16>;
		};
	};
};

&periphs_pinctrl {
	i2c0_pins1:i2c0_pins1 {
		mux {
			groups = "i2c0_sda",
				"i2c0_sck";
			function = "i2c0";
			drive-strength-microamp = <3000>;
			bias-disable;
		};
	};

	i2c1_pins1:i2c1_pins1 {
		mux {
			groups = "i2c1_sda_x",
				"i2c1_sck_x";
			function = "i2c1";
			drive-strength-microamp = <3000>;
			bias-disable;
		};
	};

	i2c1_pins2:i2c1_pins2 {
		mux {
			groups = "i2c1_sda_k",
				"i2c1_sck_k";
			function = "i2c1";
			drive-strength-microamp = <3000>;
			bias-disable;
		};
	};

	i2c2_pins1:i2c2_pins1 {
		mux {
			groups = "i2c2_sda_x",
				"i2c2_sck_x";
			function = "i2c2";
			drive-strength-microamp = <3000>;
			bias-disable;
		};
	};

	i2c2_pins2:i2c2_pins2 {
		mux {
			groups = "i2c2_sda_k",
				"i2c2_sck_k";
			function = "i2c2";
			drive-strength-microamp = <3000>;
			bias-disable;
		};
	};

	i2c3_pins1:i2c3_pins1 {
		mux {
			groups = "i2c3_sda_h",
				"i2c3_sck_h";
			function = "i2c3";
			drive-strength-microamp = <3000>;
			bias-disable;
		};
	};

	i2c3_pins2:i2c3_pins2 {
		mux {
			groups = "i2c3_sda_w",
				"i2c3_sck_w";
			function = "i2c3";
			drive-strength-microamp = <3000>;
			bias-disable;
		};
	};

	i2c4_pins1:i2c4_pins1 {
		mux {
			groups = "i2c4_sda_t9",
				"i2c4_sck_t8";
			function = "i2c4";
			drive-strength-microamp = <3000>;
			bias-disable;
		};
	};

	i2c4_pins2:i2c4_pins2 {
		mux {
			groups = "i2c4_sda_t28",
				"i2c4_sck_t26";
			function = "i2c4";
			drive-strength-microamp = <3000>;
			bias-disable;
		};
	};

	i2c5_pins1:i2c5_pins1 {
		mux {
			groups = "i2c5_sda",
				"i2c5_sck";
			function = "i2c5";
			drive-strength-microamp = <3000>;
			bias-disable;
		};
	};

	i2c6_pins1:i2c6_pins1 {
		mux {
			groups = "i2c6_sda_c",
				"i2c6_sck_c";
			function = "i2c6";
			drive-strength-microamp = <3000>;
			bias-disable;
		};
	};

	i2c6_pins2:i2c6_pins2 {
		mux {
			groups = "i2c6_sda_w",
				"i2c6_sck_w";
			function = "i2c6";
			drive-strength-microamp = <3000>;
			bias-disable;
		};
	};

	i2c7_pins1:i2c7_pins1 {
		mux {
			groups = "i2c7_sda_e",
				"i2c7_sck_e";
			function = "i2c7";
			drive-strength-microamp = <3000>;
			bias-disable;
		};
	};

	i2c7_pins2:i2c7_pins2 {
		mux {
			groups = "i2c7_sda_c",
				"i2c7_sck_c";
			function = "i2c7";
			drive-strength-microamp = <3000>;
			bias-disable;
		};
	};

	i2c8_pins1:i2c8_pins1 {
		mux {
			groups = "i2c8_sda_c",
				"i2c8_sck_c";
			function = "i2c8";
			drive-strength-microamp = <3000>;
			bias-disable;
		};
	};

	i2c8_pins2:i2c8_pins2 {
		mux {
			groups = "i2c8_sda_e",
				"i2c8_sck_e";
			function = "i2c8";
			drive-strength-microamp = <3000>;
			bias-disable;
		};
	};

	i2c9_pins1:i2c9_pins1 {
		mux {
			groups = "i2c9_sda",
				"i2c9_sck";
			function = "i2c9";
			drive-strength-microamp = <3000>;
			bias-disable;
		};
	};

	i2c10_pins1:i2c10_pins1 {
		mux {
			groups = "i2c10_sda",
				"i2c10_sck";
			function = "i2c10";
			drive-strength-microamp = <3000>;
			bias-disable;
		};
	};

	a_uart_pins1:a_uart1 {
		mux {
			groups = "uart_a_tx_d2",
				"uart_a_rx_d3";
			function = "uart_a";
		};
	};

	a_uart_pins2:a_uart2 {
		mux {
			groups = "uart_a_tx_d8",
				"uart_a_rx_d9";
			function = "uart_a";
		};
	};

	b_uart_pins:b_uart {
		mux {
			groups = "uart_ao_b_tx",
				"uart_ao_b_rx";
			function = "uart_ao_b";
		};
	};

	c_uart_pins:c_uart {
		mux {
			groups = "uart_c_tx",
				"uart_c_rx",
				"uart_c_cts",
				"uart_c_rts";
			bias-pull-up;
			output-high;
			function = "uart_c";
		};
	};

	d_uart_pins1:d_uart1 {
		mux {
			groups = "uart_d_tx_m",
				"uart_d_rx_m";
			function = "uart_d";
		};
	};

	d_uart_pins2:d_uart2 {
		mux {
			groups = "uart_d_tx_y",
				"uart_d_rx_y";
			function = "uart_d";
		};
	};

	e_uart_pins:e_uart {
		mux {
			groups = "uart_e_tx",
				"uart_e_rx",
				"uart_e_cts",
				"uart_e_rts";
			bias-pull-up;
			output-high;
			function = "uart_e";
		};
	};

	f_uart_pins:f_uart {
		mux {
			groups = "uart_f_tx",
				"uart_f_rx";
			function = "uart_f";
		};
	};

	/* sdemmc portB */
	sd_clk_cmd_pins:sd_clk_cmd_pins {
		mux {
			groups = "sdcard_cmd";
			function = "sdcard";
			bias-pull-up;
			drive-strength-microamp = <4000>;
		};
		mux1 {
			groups = "sdcard_clk";
			function = "sdcard";
			bias-pull-up;
			drive-strength-microamp = <4000>;
		};
	};

	sd_all_pins:sd_all_pins {
		mux {
			groups = "sdcard_d0",
				   "sdcard_d1",
				   "sdcard_d2",
				   "sdcard_d3",
				   "sdcard_cmd";
			function = "sdcard";
			bias-pull-up;
			drive-strength-microamp = <4000>;
		};
		mux1 {
			groups = "sdcard_clk";
			function = "sdcard";
			bias-pull-up;
			drive-strength-microamp = <4000>;
		};
	};

	sd_clk_gate_pins: sd_clk_gate {
		mux {
			groups = "GPIOC_4";
			function = "gpio_periphs";
			bias-pull-down;
			drive-strength-microamp = <4000>;
		};
	};

	sd_all_pd_pins:sd_all_pd_pins {
		mux {
			groups = "GPIOC_0",
				   "GPIOC_1",
				   "GPIOC_2",
				   "GPIOC_3",
				   "GPIOC_4",
				   "GPIOC_5";
			function = "gpio_periphs";
			bias-pull-down;
			output-low;
		};
	};

	sd_1bit_pins:sd_1bit_pins {
		mux {
			groups = "sdcard_d0",
					"sdcard_cmd";
			function = "sdcard";
			bias-pull-up;
			drive-strength-microamp = <4000>;
		};
		mux1 {
			groups = "sdcard_clk";
			function = "sdcard";
			bias-pull-up;
			drive-strength-microamp = <4000>;
		};
	};

	sd_clr_all_pins:sd_clr_all_pins {
		mux {
			groups = "GPIOC_0",
				   "GPIOC_1",
				   "GPIOC_2",
				   "GPIOC_3",
				   "GPIOC_5";
			function = "gpio_periphs";
			output-high;
		};
		mux1 {
			groups = "GPIOC_4";
			function = "gpio_periphs";
			output-low;
		};
	};

	sd_clr_noall_pins:sd_clr_noall_pins {
		mux {
			groups = "GPIOC_0",
				   "GPIOC_1",
				   "GPIOC_4",
				   "GPIOC_5";
			function = "gpio_periphs";
			output-high;
		};
	};

	ao_to_sd_uart_pins:ao_to_sd_uart_pins {
		mux {
			groups = "uart_ao_tx_a_c3",
					"uart_ao_rx_a_c2";
			function = "uart_ao_a_ee";
			bias-pull-up;
			input-enable;
		};
	};

	sd_iso7816_pins:sd_iso7816_pins {
		mux {
			groups = "iso7816_clk_z",
				"iso7816_data_z";
			function = "iso7816";
			input-enable;
			bias-pull-down;
		};
	};

	/* sdio port A */
	sdio_pins: sdio {
		mux {
			groups = "sdio_d0",
				 "sdio_d1",
				 "sdio_d2",
				 "sdio_d3",
				 "sdio_clk",
				 "sdio_cmd";
			function = "sdio";
			//bias-disable;
			bias-pull-up;
			drive-strength-microamp = <4000>;
		};
	};

	sdio_clk_gate_pins: sdio_clk_gate {
		mux {
			groups = "GPIOX_4";
			function = "gpio_periphs";
			bias-pull-down;
			drive-strength-microamp = <4000>;
		};
	};

	hdmitx_hpd: hdmitx_hpd {
		mux {
			groups = "hdmitx_hpd_in";
			function = "hdmitx";
			bias-disable;
		};
	};

	hdmitx_hpd_gpio: hdmitx_hpd_gpio {
		mux {
			groups = "GPIOW_15";
			function = "gpio_periphs";
			bias-disable;
		};
	};

	hdmitx_ddc: hdmitx_ddc {
		mux {
			groups = "hdmitx_sda_w13",
				"hdmitx_sck_w14";
			function = "hdmitx";
			bias-disable;
			drive-strength-microamp = <3000>;
		};
	};

	hdmirx_a_mux:hdmirx_a_mux {
		mux {
			groups = "hdmirx_a_hpd",
				"hdmirx_a_det",
				"hdmirx_a_sda",
				"hdmirx_a_sck";
			function = "hdmirx_a";
		};
	};

	hdmirx_b_mux:hdmirx_b_mux {
		mux {
			groups = "hdmirx_b_hpd",
				"hdmirx_b_det",
				"hdmirx_b_sda",
				"hdmirx_b_sck";
			function = "hdmirx_b";
		};
	};

	hdmirx_c_mux:hdmirx_c_mux {
		mux {
			groups = "hdmirx_c_hpd",
				"hdmirx_c_det",
				"hdmirx_c_sda",
				"hdmirx_c_sck";
			function = "hdmirx_c";
		};
	};

	cec_a: cec_a {
		mux {
			groups = "cec_a";
			function = "cec_a";
		};
	};

	cec_b: cec_b {
		mux {
			groups = "cec_b";
			function = "cec_b";
		};
	};

	jtag_a_pins: jtag_a_pin {
		mux {
			groups = "jtag_a_tdi",
				 "jtag_a_tdo",
				 "jtag_a_clk",
				 "jtag_a_tms";
			function = "jtag_a";
		};
	};

	jtag_b_pins: jtag_b_pin {
		mux {
			groups = "jtag_b_tdi",
				 "jtag_b_tdo",
				 "jtag_b_clk",
				 "jtag_b_tms";
			function = "jtag_b";
		};
	};

	pwm_a_pins1: pwm_a_pins1 {
		mux {
			groups = "pwm_a_e";
			function = "pwm_a";
			drive-strength-microamp = <500>;
		};
	};

	pwm_a_pins2: pwm_a_pins2 {
		mux {
			groups = "pwm_a_t";
			function = "pwm_a";
			drive-strength-microamp = <500>;
		};
	};

	pwm_b_pins: pwm_b_pins {
		mux {
			groups = "pwm_b";
			function = "pwm_b";
		};
	};

	pwm_c_pins: pwm_c_pins {
		mux {
			groups = "pwm_c";
			function = "pwm_c";
		};
	};

	pwm_d_pins1: pwm_d_pins1 {
		mux {
			groups = "pwm_d_d";
			function = "pwm_d";
		};
	};

	pwm_d_pins2: pwm_d_pins2 {
		mux {
			groups = "pwm_d_e";
			function = "pwm_d";
		};
	};

	pwm_e_pins: pwm_e_pins {
		mux {
			groups = "pwm_e";
			function = "pwm_e";
		};
	};

	pwm_f_pins: pwm_f_pins {
		mux {
			groups = "pwm_f";
			function = "pwm_f";
		};
	};

	pwm_g_pins: pwm_g_pins {
		mux {
			groups = "pwm_g";
			function = "pwm_g";
		};
	};

	pwm_h_pins: pwm_h_pins {
		mux {
			groups = "pwm_h";
			function = "pwm_h";
		};
	};

	pwm_i_pins: pwm_i_pins {
		mux {
			groups = "pwm_i";
			function = "pwm_i";
		};
	};

	pwm_j_pins: pwm_j_pins {
		mux {
			groups = "pwm_j";
			function = "pwm_j";
		};
	};

	remote_pins: remote_pin {
		mux {
			groups = "remote_in";
			function = "remote_in";
			bias-disable;
		};
	};

	spicc0_pins: spicc0_pins {
		mux {
			groups = "spi_a_mosi",
				 "spi_a_miso",
				 //"spi_a_ss0",used as GPIOH_9
				 "spi_a_clk";
			function = "spi_a";
			drive-strength-microamp = <2000>;
		};
	};

	spicc1_pins: spicc1_pins {
		mux {
			groups = "spi_b_mosi",
				 "spi_b_miso",
				 //"spi_b_ss0",used as GPIOH_13
				 "spi_b_clk";
			function = "spi_b";
			drive-strength-microamp = <2000>;
		};
	};

	spicc2_pins_h: spicc2_pins_h {
		mux {
			groups = "spi_c_mosi_h",
				 "spi_c_miso_h",
				 //"spi_c_ss0_h",used as GPIOH_17
				 "spi_c_clk_h";
			function = "spi_c";
			drive-strength-microamp = <2000>;
		};
	};

	spicc2_pins_x: spicc2_pins_x {
		mux {
			groups = "spi_c_mosi_x",
				 "spi_c_miso_x",
				 //"spi_c_ss0_x",used as GPIOX_29
				 "spi_c_clk_x";
			function = "spi_c";
			drive-strength-microamp = <2000>;
		};
	};

	spicc3_pins_k: spicc3_pins_k {
		mux {
			groups = "spi_d_mosi_k",
				 "spi_d_miso_k",
				 //"spi_d_ss0_k",used as GPIOK_3
				 "spi_d_clk_k";
			function = "spi_d";
			drive-strength-microamp = <2000>;
		};
	};

	spicc3_pins_x: spicc3_pins_x {
		mux {
			groups = "spi_d_mosi_x",
				 "spi_d_miso_x",
				 //"spi_d_ss0_x",used as GPIOX_3
				 "spi_d_clk_x";
			function = "spi_d";
			drive-strength-microamp = <2000>;
		};
	};

	spicc4_pins_k: spicc4_pins_k {
		mux {
			groups = "spi_e_mosi_k",
				 "spi_e_miso_k",
				 //"spi_e_ss0_k",used as GPIOK_7
				 "spi_e_clk_k";
			function = "spi_e";
			drive-strength-microamp = <2000>;
		};
	};

	spicc4_pins_x: spicc4_pins_x {
		mux {
			groups = "spi_e_mosi_x",
				 "spi_e_miso_x",
				 //"spi_e_ss0_x",used as GPIOX_18
				 "spi_e_clk_x";
			function = "spi_e";
			drive-strength-microamp = <2000>;
		};
	};

	spicc5_pins: spicc5_pins {
		mux {
			groups = "spi_f_mosi",
				 "spi_f_miso",
				 //"spi_f_ss0",used as GPIOT_13
				 "spi_f_clk";
			function = "spi_f";
			drive-strength-microamp = <2000>;
		};
	};

	irblaster_pins1:irblaster_pin1 {
		mux {
			groups = "remote_out_d4";
			function = "remote_out";
		};
	};

	irblaster_pins2:irblaster_pin2 {
		mux {
			groups = "remote_out_d6";
			function = "remote_out";
		};
	};

	spdifout_d: spdifout_d {
		mux { /* GPIOD_8 */
			groups = "spdif_out_d";
			function = "spdif_out";
		};
	};

	spdifout_d_mute: spdifout_d_mute {
		mux { /* GPIOD_8 */
			groups = "GPIOD_8";
			function = "gpio_periphs";
			output-low;
		};
	};

	spdifout_t: spdifout_t {
		mux { /* GPIOT_3 */
			groups = "spdif_out_t";
			function = "spdif_out";
		};
	};

	spdifout_t_mute: spdifout_t_mute {
		mux { /* GPIOT_3 */
			groups = "GPIOT_3";
			function = "gpio_periphs";
			output-low;
		};
	};

	spdifin_d: spdifin_d {
		mux {/* GPIOD_9 */
			groups = "spdif_in_d";
			function = "spdif_in";
		};
	};

	spdifin_t: spdifin_t {
		mux {/* GPIOT_4 */
			groups = "spdif_in_t";
			function = "spdif_in";
		};
	};

	mclk_1_pins: mclk_1_pin {
		mux { /* GPIOT_0 */
			groups = "mclk1";
			function = "mclk";
		};
	};

	mclk_2_pins: mclk_2_pin {
		mux { /* GPIOT_13 */
			groups = "mclk2";
			function = "mclk";
		};
	};

	lcd_vbyone_a_pins: lcd_vbyone_a_pin {
		mux {
			groups = "vx1_a_htpdn","vx1_a_lockn";
			function = "vx1_a";
		};
	};

	lcd_vbyone_b_pins: lcd_vbyone_b_pin {
		mux {
			groups = "vx1_b_htpdn","vx1_b_lockn";
			function = "vx1_b";
		};
	};

	lcd_edp_a_pins: lcd_edp_a_pin {
		mux {
			groups = "edp_a_hpd";
			function = "edp_a";
		};
	};

	lcd_edp_b_pins: lcd_edp_b_pin {
		mux {
			groups = "edp_b_hpd";
			function = "edp_b";
		};
	};

	eth_pins: eth {
		mux {
			groups = "eth_mdio",
				 "eth_mdc",
				 "eth_rgmii_rx_clk",
				 "eth_rx_dv",
				 "eth_rxd0",
				 "eth_rxd1",
				 "eth_txen",
				 "eth_txd0",
				 "eth_txd1";
			function = "eth";
			drive-strength-microamp = <4000>;
			bias-disable;
		};
	};

	eth_rgmii_pins: eth-rgmii {
		mux {
			groups = "eth_rxd2_rgmii",
				 "eth_rxd3_rgmii",
				 "eth_rgmii_tx_clk",
				 "eth_txd2_rgmii",
				 "eth_txd3_rgmii";
			function = "eth";
			drive-strength-microamp = <4000>;
			bias-disable;
		};
	};
};

&storage_pinctrl {
	emmc_pins: emmc {
		mux-0 {
			groups = "emmc_nand_d0",
				 "emmc_nand_d1",
				 "emmc_nand_d2",
				 "emmc_nand_d3",
				 "emmc_nand_d4",
				 "emmc_nand_d5",
				 "emmc_nand_d6",
				 "emmc_nand_d7",
				 "emmc_cmd";
			function = "emmc";
			bias-pull-up;
			drive-strength-microamp = <4000>;
		};

		mux-1 {
			groups = "emmc_clk";
			function = "emmc";
			bias-disable;
			drive-strength-microamp = <4000>;
		};
	};

	emmc_ds_pins: emmc-ds {
		mux {
			groups = "emmc_nand_ds";
			function = "emmc";
			bias-pull-down;
			drive-strength-microamp = <4000>;
		};
	};

	emmc_clk_gate_pins: emmc_clk_gate {
		mux {
			groups = "GPIOB_8";
			function = "gpio_storage";
			bias-pull-down;
			drive-strength-microamp = <4000>;
		};
	};

	spifc_all_pins: spifc_all_pins {
		mux {
			groups =  "spif_hold",
				"spif_mo",
				"spif_mi",
				"spif_clk",
				"spif_wp",
				"spif_cs";
			function = "spif";
			drive-strength-microamp = <3000>;
		};
	};
};

&gpu{
	status = "disabled";
	reg =   <0 0xFE400000 0 0x04000>, /*mali APB bus base address*/
		<0 0xFE002000 0 0x01000>, /*reset register*/
		<0 0xFF800000 0 0x01000>, /*aobus TODO update*/
		<0 0xFE000000 0 0x01000>, /*hiubus for clk cntl*/
		<0 0xFE002000 0 0x01000>; /*reset register*/

	interrupts = <0 144 4>, <0 145 4>, <0 146 4>;
	interrupt-names = "GPU", "MMU", "JOB";
//	power-domains = <&pwrdm PDID_T7_MALI_TOP>;
	num_of_pp = <4>;
	system-coherency = <0>;
	//clocks = <&clkc CLKID_MALI_MUX>;
	clock-names = "gpu_mux";

	/*
	 * Mali clocking is provided by two identical clock paths
	 * MALI_0 and MALI_1 muxed to a single clock by a glitch
	 * free mux to safely change frequency while running.
	 */
	//assigned-clocks = <&clkc CLKID_MALI_0_SEL>,
	//		  <&clkc CLKID_MALI_0>,
	//		  <&clkc CLKID_MALI_MUX>; /* Glitch free mux */
	//assigned-clock-parents = <&clkc CLKID_FCLK_DIV2P5>,
	//			 <0>, /* Do Nothing */
	//			 <&clkc CLKID_MALI_0>;
	//assigned-clock-rates = <0>, /* Do Nothing */
	//		       <800000000>,
	//		       <0>; /* Do Nothing */

	tbl =  <&dvfs250_cfg
		&dvfs400_cfg
		&dvfs500_cfg
		&dvfs666_cfg
		&dvfs800_cfg
		&dvfs800_cfg>;

	reset_cfg:reset_cfg {
		reg_level = <0x11>;
		reg_mask = <0x21>;
		reg_bit = <2>;
	};

	capb_reset:capb_reset {
		reg_level = <0x11>;
		reg_mask = <0x21>;
		reg_bit = <1>;
	};
};

